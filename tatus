[33mcommit 598b86e5a5593c6de96f92238aa0f62f6751f0a1[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mmain[m[33m, [m[1;31morigin/main[m[33m, [m[1;31morigin/HEAD[m[33m)[m
Author: Daniel <dmontalvo@w3.org>
Date:   Thu Mar 13 13:00:17 2025 +0100

    Split CI

[1mdiff --git a/.github/workflows/act-rules-format.yml b/.github/workflows/act-rules-format.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..3342c87[m
[1m--- /dev/null[m
[1m+++ b/.github/workflows/act-rules-format.yml[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32mname: ACT Rules Format ED[m[41m[m
[32m+[m[32mon:[m[41m[m
[32m+[m[32m  pull_request:[m[41m[m
[32m+[m[32m    paths:[m[41m[m
[32m+[m[32m      - "act-rules-format/**"[m[41m[m
[32m+[m[32m  push:[m[41m[m
[32m+[m[32m    branches: [main][m[41m[m
[32m+[m[32m    paths:[m[41m[m
[32m+[m[32m      - "act-rules-format/**"[m[41m[m
[32m+[m[32mjobs:[m[41m[m
[32m+[m[32m  main:[m[41m[m
[32m+[m[32m    name: ACT Rules Format ED[m[41m[m
[32m+[m[32m    runs-on: ubuntu-latest[m[41m[m
[32m+[m[32m    permissions:[m[41m[m
[32m+[m[32m      contents: write[m[41m[m
[32m+[m[32m    steps:[m[41m[m
[32m+[m[32m      - uses: actions/checkout@v4[m[41m[m
[32m+[m[32m      - uses: w3c/spec-prod@v2[m[41m[m
[32m+[m[32m        with:[m[41m[m
[32m+[m[32m          TOOLCHAIN: bikeshed[m[41m[m
[32m+[m[32m          SOURCE: act-rules-format/act-rules-format.bs[m[41m[m
[32m+[m[32m          DESTINATION: act-rules-format.html[m[41m[m
[32m+[m[32m          GH_PAGES_BRANCH: gh-pages[m[41m [m
[32m+[m[32m          VALIDATE_WEBIDL: false[m[41m[m
[32m+[m[32m          VALIDATE_MARKUP: true[m[41m[m
[32m+[m[32m          BUILD_FAIL_ON: fatal[m
\ No newline at end of file[m
[1mdiff --git a/.github/workflows/auto-publish.yml b/.github/workflows/auto-publish.yml[m
[1mdeleted file mode 100644[m
[1mindex 2d581c7..0000000[m
[1m--- a/.github/workflows/auto-publish.yml[m
[1m+++ /dev/null[m
[36m@@ -1,29 +0,0 @@[m
[31m-name: CI[m
[31m-on:[m
[31m-  pull_request: {}[m
[31m-  push:[m
[31m-    branches: [main][m
[31m-jobs:[m
[31m-  main:[m
[31m-    name: Build gh-pages[m
[31m-    runs-on: ubuntu-latest[m
[31m-    permissions:[m
[31m-      contents: write[m
[31m-    strategy:[m
[31m-      max-parallel: 1[m
[31m-      matrix:[m
[31m-        include:[m
[31m-          - source: common-input-aspects/NOTE-act-rules-common-aspects.bs[m
[31m-            destination: NOTE-common-input-aspects.html[m
[31m-          - source: act-rules-format/act-rules-format.bs[m
[31m-            destination: act-rules-format.html[m
[31m-    steps:[m
[31m-      - uses: actions/checkout@v4[m
[31m-      - uses: w3c/spec-prod@v2[m
[31m-        with:[m
[31m-          TOOLCHAIN: bikeshed[m
[31m-          SOURCE: ${{ matrix.source }}[m
[31m-          DESTINATION: ${{ matrix.destination }}[m
[31m-          GH_PAGES_BRANCH: gh-pages [m
[31m-          VALIDATE_WEBIDL: false[m
[31m-          VALIDATE_MARKUP: true[m
[1mdiff --git a/.github/workflows/common-input-aspect.yml b/.github/workflows/common-input-aspect.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..7309810[m
[1m--- /dev/null[m
[1m+++ b/.github/workflows/common-input-aspect.yml[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32mname: Common Input Aspects ED[m[41m[m
[32m+[m[32mon:[m[41m[m
[32m+[m[32m  pull_request:[m[41m[m
[32m+[m[32m    paths:[m[41m [m
[32m+[m[32m      - "common-input-aspects/**"[m[41m[m
[32m+[m[32m  push:[m[41m[m
[32m+[m[32m    branches: [main][m[41m[m
[32m+[m[32m    paths:[m[41m[m
[32m+[m[32m        - "common-input-aspects/**"[m[41m[m
[32m+[m[32mjobs:[m[41m[m
[32m+[m[32m  main:[m[41m[m
[32m+[m[32m    name: Common Input Aspects ED[m[41m[m
[32m+[m[32m    runs-on: ubuntu-latest[m[41m[m
[32m+[m[32m    permissions:[m[41m[m
[32m+[m[32m      contents: write[m[41m[m
[32m+[m[32m    steps:[m[41m[m
[32m+[m[32m      - uses: actions/checkout@v4[m[41m[m
[32m+[m[32m      - uses: w3c/spec-prod@v2[m[41m[m
[32m+[m[32m        with:[m[41m[m
[32m+[m[32m          TOOLCHAIN: bikeshed[m[41m[m
[32m+[m[32m          SOURCE: common-input-aspects/NOTE-act-rules-common-aspects.bs[m[41m[m
[32m+[m[32m          DESTINATION: NOTE-common-input-aspects.html[m[41m[m
[32m+[m[32m          GH_PAGES_BRANCH: gh-pages[m[41m [m
[32m+[m[32m          VALIDATE_WEBIDL: false[m[41m[m
[32m+[m[32m          VALIDATE_MARKUP: true[m[41m[m
[32m+[m[32m          BUILD_FAIL_ON: fatal[m
\ No newline at end of file[m
[1mdiff --git a/act-rules-format/act-rules-format.html b/act-rules-format/act-rules-format.html[m
[1mnew file mode 100644[m
[1mindex 0000000..56884e1[m
[1m--- /dev/null[m
[1m+++ b/act-rules-format/act-rules-format.html[m
[36m@@ -0,0 +1,2748 @@[m
[32m+[m[32m<!doctype html><html lang="en">[m
[32m+[m[32m <head>[m
[32m+[m[32m  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">[m
[32m+[m[32m  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">[m
[32m+[m[32m  <title>Accessibility Conformance Testing (ACT) Rules Format 1.1</title>[m
[32m+[m[32m  <meta content="ED" name="w3c-status">[m
[32m+[m[32m  <meta content="Bikeshed version 60c422380, updated Thu Feb 20 19:11:22 2025 -0800" name="generator">[m
[32m+[m[32m  <link href="https://www.w3.org/TR/act-rules-format/" rel="canonical">[m
[32m+[m[32m  <meta content="ef4986924d98db23ee17f482988e4fe42a5abf3d" name="revision">[m
[32m+[m[32m  <meta content="dark light" name="color-scheme">[m
[32m+[m[32m<style>[m
[32m+[m[32m  .rfc2119 {[m
[32m+[m[32m    text-transform: uppercase;[m
[32m+[m[32m  }[m
[32m+[m[32m  pre.highlight {[m
[32m+[m[32m    background: white !important;[m
[32m+[m[32m    border: solid 1px #ded390;[m
[32m+[m[32m    border-radius: 2px;[m
[32m+[m[32m  }[m
[32m+[m[32m  pre.highlight c-[s],[m
[32m+[m[32m  pre.highlight c-[u] {[m
[32m+[m[32m    color: #79532e;[m
[32m+[m[32m  }[m
[32m+[m[32m  pre.highlight c-[f] {[m
[32m+[m[32m    color: #578201;[m
[32m+[m[32m  }[m
[32m+[m[32m  pre.highlight c-[p] {[m
[32m+[m[32m    color: #757575;[m
[32m+[m[32m  }[m
[32m+[m[32m</style>[m
[32m+[m[32m<style>/* Boilerplate: style-autolinks */[m
[32m+[m[32m.css.css, .property.property, .descriptor.descriptor {[m
[32m+[m[32m    color: var(--a-normal-text);[m
[32m+[m[32m    font-size: inherit;[m
[32m+[m[32m    font-family: inherit;[m
[32m+[m[32m}[m
[32m+[m[32m.css::before, .property::before, .descriptor::before {[m
[32m+[m[32m    content: "â€˜";[m
[32m+[m[32m}[m
[32m+[m[32m.css::after, .property::after, .descriptor::after {[m
[32m+[m[32m    content: "â€™";[m
[32m+[m[32m}[m
[32m+[m[32m.property, .descriptor {[m
[32m+[m[32m    /* Don't wrap property and descriptor names */[m
[32m+[m[32m    white-space: nowrap;[m
[32m+[m[32m}[m
[32m+[m[32m.type { /* CSS value <type> */[m
[32m+[m[32m    font-style: italic;[m
[32m+[m[32m}[m
[32m+[m[32mpre .property::before, pre .property::after {[m
[32m+[m[32m    content: "";[m
[32m+[m[32m}[m
[32m+[m[32m[data-link-type="property"]::before,[m
[32m+[m[32m[data-link-type="propdesc"]::before,[m
[32m+[m[32m[data-link-type="descriptor"]::before,[m
[32m+[m[32m[data-link-type="value"]::before,[m
[32m+[m[32m[data-link-type="function"]::before,[m
[32m+[m[32m[data-link-type="at-rule"]::before,[m
[32m+[m[32m[data-link-type="selector"]::before,[m
[32m+[m[32m[data-link-type="maybe"]::before {[m
[32m+[m[32m    content: "â€˜";[m
[32m+[m[32m}[m
[32m+[m[32m[data-link-type="property"]::after,[m
[32m+[m[32m[data-link-type="propdesc"]::after,[m
[32m+[m[32m[data-link-type="descriptor"]::after,[m
[32m+[m[32m[data-link-type="value"]::after,[m
[32m+[m[32m[data-link-type="function"]::after,[m
[32m+[m[32m[data-link-type="at-rule"]::after,[m
[32m+[m[32m[data-link-type="selector"]::after,[m
[32m+[m[32m[data-link-type="maybe"]::after {[m
[32m+[m[32m    content: "â€™";[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m[data-link-type].production::before,[m
[32m+[m[32m[data-link-type].production::after,[m
[32m+[m[32m.prod [data-link-type]::before,[m
[32m+[m[32m.prod [data-link-type]::after {[m
[32m+[m[32m    content: "";[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m[data-link-type=element],[m
[32m+[m[32m[data-link-type=element-attr] {[m
[32m+[m[32m    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;[m
[32m+[m[32m    font-size: .9em;[m
[32m+[m[32m}[m
[32m+[m[32m[data-link-type=element]::before { content: "<" }[m
[32m+[m[32m[data-link-type=element]::after  { content: ">" }[m
[32m+[m
[32m+[m[32m[data-link-type=biblio] {[m
[32m+[m[32m    white-space: pre;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@media (prefers-color-scheme: dark) {[m
[32m+[m[32m    :root {[m
[32m+[m[32m        --selflink-text: black;[m
[32m+[m[32m        --selflink-bg: silver;[m
[32m+[m[32m        --selflink-hover-text: white;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m<style>/* Boilerplate: style-colors */[m
[32m+[m[32m/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */[m
[32m+[m[32m:root {[m
[32m+[m[32m    color-scheme: light dark;[m
[32m+[m
[32m+[m[32m    --text: black;[m
[32m+[m[32m    --bg: white;[m
[32m+[m
[32m+[m[32m    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);[m
[32m+[m
[32m+[m[32m    --logo-bg: #1a5e9a;[m
[32m+[m[32m    --logo-active-bg: #c00;[m
[32m+[m[32m    --logo-text: white;[m
[32m+[m
[32m+[m[32m    --tocnav-normal-text: #707070;[m
[32m+[m[32m    --tocnav-normal-bg: var(--bg);[m
[32m+[m[32m    --tocnav-hover-text: var(--tocnav-normal-text);[m
[32m+[m[32m    --tocnav-hover-bg: #f8f8f8;[m
[32m+[m[32m    --tocnav-active-text: #c00;[m
[32m+[m[32m    --tocnav-active-bg: var(--tocnav-normal-bg);[m
[32m+[m
[32m+[m[32m    --tocsidebar-text: var(--text);[m
[32m+[m[32m    --tocsidebar-bg: #f7f8f9;[m
[32m+[m[32m    --tocsidebar-shadow: rgba(0,0,0,.1);[m
[32m+[m[32m    --tocsidebar-heading-text: hsla(203,20%,40%,.7);[m
[32m+[m
[32m+[m[32m    --toclink-text: var(--text);[m
[32m+[m[32m    --toclink-underline: #3980b5;[m
[32m+[m[32m    --toclink-visited-text: var(--toclink-text);[m
[32m+[m[32m    --toclink-visited-underline: #054572;[m
[32m+[m
[32m+[m[32m    --heading-text: #005a9c;[m
[32m+[m
[32m+[m[32m    --hr-text: var(--text);[m
[32m+[m
[32m+[m[32m    --algo-border: #def;[m
[32m+[m
[32m+[m[32m    --del-text: red;[m
[32m+[m[32m    --del-bg: transparent;[m
[32m+[m[32m    --ins-text: #080;[m
[32m+[m[32m    --ins-bg: transparent;[m
[32m+[m
[32m+[m[32m    --a-normal-text: #034575;[m
[32m+[m[32m    --a-normal-underline: #bbb;[m
[32m+[m[32m    --a-visited-text: var(--a-normal-text);[m
[32m+[m[32m    --a-visited-underline: #707070;[m
[32m+[m[32m    --a-hover-bg: rgba(75%, 75%, 75%, .25);[m
[32m+[m[32m    --a-active-text: #c00;[m
[32m+[m[32m    --a-active-underline: #c00;[m
[32m+[m
[32m+[m[32m    --blockquote-border: silver;[m
[32m+[m[32m    --blockquote-bg: transparent;[m
[32m+[m[32m    --blockquote-text: currentcolor;[m
[32m+[m
[32m+[m[32m    --issue-border: #e05252;[m
[32m+[m[32m    --issue-bg: #fbe9e9;[m
[32m+[m[32m    --issue-text: var(--text);[m
[32m+[m[32m    --issueheading-text: #831616;[m
[32m+[m
[32m+[m[32m    --example-border: #e0cb52;[m
[32m+[m[32m    --example-bg: #fcfaee;[m
[32m+[m[32m    --example-text: var(--text);[m
[32m+[m[32m    --exampleheading-text: #574b0f;[m
[32m+[m
[32m+[m[32m    --note-border: #52e052;[m
[32m+[m[32m    --note-bg: #e9fbe9;[m
[32m+[m[32m    --note-text: var(--text);[m
[32m+[m[32m    --noteheading-text: hsl(120, 70%, 30%);[m
[32m+[m[32m    --notesummary-underline: silver;[m
[32m+[m
[32m+[m[32m    --assertion-border: #aaa;[m
[32m+[m[32m    --assertion-bg: #eee;[m
[32m+[m[32m    --assertion-text: black;[m
[32m+[m
[32m+[m[32m    --advisement-border: orange;[m
[32m+[m[32m    --advisement-bg: #fec;[m
[32m+[m[32m    --advisement-text: var(--text);[m
[32m+[m[32m    --advisementheading-text: #b35f00;[m
[32m+[m
[32m+[m[32m    --warning-border: red;[m
[32m+[m[32m    --warning-bg: hsla(40,100%,50%,0.95);[m
[32m+[m[32m    --warning-text: var(--text);[m
[32m+[m
[32m+[m[32m    --amendment-border: #330099;[m
[32m+[m[32m    --amendment-bg: #F5F0FF;[m
[32m+[m[32m    --amendment-text: var(--text);[m
[32m+[m[32m    --amendmentheading-text: #220066;[m
[32m+[m
[32m+[m[32m    --def-border: #8ccbf2;[m
[32m+[m[32m    --def-bg: #def;[m
[32m+[m[32m    --def-text: var(--text);[m
[32m+[m[32m    --defrow-border: #bbd7e9;[m
[32m+[m
[32m+[m[32m    --datacell-border: silver;[m
[32m+[m
[32m+[m[32m    --indexinfo-text: #707070;[m
[32m+[m
[32m+[m[32m    --indextable-hover-text: black;[m
[32m+[m[32m    --indextable-hover-bg: #f7f8f9;[m
[32m+[m
[32m+[m[32m    --outdatedspec-bg: rgba(0, 0, 0, .5);[m
[32m+[m[32m    --outdatedspec-text: black;[m
[32m+[m[32m    --outdated-bg: maroon;[m
[32m+[m[32m    --outdated-text: white;[m
[32m+[m[32m    --outdated-shadow: red;[m
[32m+[m
[32m+[m[32m    --editedrec-bg: darkorange;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@media (prefers-color-scheme: dark) {[m
[32m+[m[32m    :root {[m
[32m+[m[32m        --text: #ddd;[m
[32m+[m[32m        --bg: black;[m
[32m+[m
[32m+[m[32m        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");[m
[32m+[m
[32m+[m[32m        --logo-bg: #1a5e9a;[m
[32m+[m[32m        --logo-active-bg: #c00;[m
[32m+[m[32m        --logo-text: white;[m
[32m+[m
[32m+[m[32m        --tocnav-normal-text: #999;[m
[32m+[m[32m        --tocnav-normal-bg: var(--bg);[m
[32m+[m[32m        --tocnav-hover-text: var(--tocnav-normal-text);[m
[32m+[m[32m        --tocnav-hover-bg: #080808;[m
[32m+[m[32m        --tocnav-active-text: #f44;[m
[32m+[m[32m        --tocnav-active-bg: var(--tocnav-normal-bg);[m
[32m+[m
[32m+[m[32m        --tocsidebar-text: var(--text);[m
[32m+[m[32m        --tocsidebar-bg: #080808;[m
[32m+[m[32m        --tocsidebar-shadow: rgba(255,255,255,.1);[m
[32m+[m[32m        --tocsidebar-heading-text: hsla(203,20%,40%,.7);[m
[32m+[m
[32m+[m[32m        --toclink-text: var(--text);[m
[32m+[m[32m        --toclink-underline: #6af;[m
[32m+[m[32m        --toclink-visited-text: var(--toclink-text);[m
[32m+[m[32m        --toclink-visited-underline: #054572;[m
[32m+[m
[32m+[m[32m        --heading-text: #8af;[m
[32m+[m
[32m+[m[32m        --hr-text: var(--text);[m
[32m+[m
[32m+[m[32m        --algo-border: #456;[m
[32m+[m
[32m+[m[32m        --del-text: #f44;[m
[32m+[m[32m        --del-bg: transparent;[m
[32m+[m[32m        --ins-text: #4a4;[m
[32m+[m[32m        --ins-bg: transparent;[m
[32m+[m
[32m+[m[32m        --a-normal-text: #6af;[m
[32m+[m[32m        --a-normal-underline: #555;[m
[32m+[m[32m        --a-visited-text: var(--a-normal-text);[m
[32m+[m[32m        --a-visited-underline: var(--a-normal-underline);[m
[32m+[m[32m        --a-hover-bg: rgba(25%, 25%, 25%, .2);[m
[32m+[m[32m        --a-active-text: #f44;[m
[32m+[m[32m        --a-active-underline: var(--a-active-text);[m
[32m+[m
[32m+[m[32m        --borderedblock-bg: rgba(255, 255, 255, .05);[m
[32m+[m
[32m+[m[32m        --blockquote-border: silver;[m
[32m+[m[32m        --blockquote-bg: var(--borderedblock-bg);[m
[32m+[m[32m        --blockquote-text: currentcolor;[m
[32m+[m
[32m+[m[32m        --issue-border: #e05252;[m
[32m+[m[32m        --issue-bg: var(--borderedblock-bg);[m
[32m+[m[32m        --issue-text: var(--text);[m
[32m+[m[32m        --issueheading-text: hsl(0deg, 70%, 70%);[m
[32m+[m
[32m+[m[32m        --example-border: hsl(50deg, 90%, 60%);[m
[32m+[m[32m        --example-bg: var(--borderedblock-bg);[m
[32m+[m[32m        --example-text: var(--text);[m
[32m+[m[32m        --exampleheading-text: hsl(50deg, 70%, 70%);[m
[32m+[m
[32m+[m[32m        --note-border: hsl(120deg, 100%, 35%);[m
[32m+[m[32m        --note-bg: var(--borderedblock-bg);[m
[32m+[m[32m        --note-text: var(--text);[m
[32m+[m[32m        --noteheading-text: hsl(120, 70%, 70%);[m
[32m+[m[32m        --notesummary-underline: silver;[m
[32m+[m
[32m+[m[32m        --assertion-border: #444;[m
[32m+[m[32m        --assertion-bg: var(--borderedblock-bg);[m
[32m+[m[32m        --assertion-text: var(--text);[m
[32m+[m
[32m+[m[32m        --advisement-border: orange;[m
[32m+[m[32m        --advisement-bg: #222218;[m
[32m+[m[32m        --advisement-text: var(--text);[m
[32m+[m[32m        --advisementheading-text: #f84;[m
[32m+[m
[32m+[m[32m        --warning-border: red;[m
[32m+[m[32m        --warning-bg: hsla(40,100%,20%,0.95);[m
[32m+[m[32m        --warning-text: var(--text);[m
[32m+[m
[32m+[m[32m        --amendment-border: #330099;[m
[32m+[m[32m        --amendment-bg: #080010;[m
[32m+[m[32m        --amendment-text: var(--text);[m
[32m+[m[32m        --amendmentheading-text: #cc00ff;[m
[32m+[m
[32m+[m[32m        --def-border: #8ccbf2;[m
[32m+[m[32m        --def-bg: #080818;[m
[32m+[m[32m        --def-text: var(--text);[m
[32m+[m[32m        --defrow-border: #136;[m
[32m+[m
[32m+[m[32m        --datacell-border: silver;[m
[32m+[m
[32m+[m[32m        --indexinfo-text: #aaa;[m
[32m+[m
[32m+[m[32m        --indextable-hover-text: var(--text);[m
[32m+[m[32m        --indextable-hover-bg: #181818;[m
[32m+[m
[32m+[m[32m        --outdatedspec-bg: rgba(255, 255, 255, .5);[m
[32m+[m[32m        --outdatedspec-text: black;[m
[32m+[m[32m        --outdated-bg: maroon;[m
[32m+[m[32m        --outdated-text: white;[m
[32m+[m[32m        --outdated-shadow: red;[m
[32m+[m
[32m+[m[32m        --editedrec-bg: darkorange;[m
[32m+[m[32m    }[m
[32m+[m[32m    /* In case a transparent-bg image doesn't expect to be on a dark bg,[m
[32m+[m[32m       which is quite common in practice... */[m
[32m+[m[32m    img { background: white; }[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m<style>/* Boilerplate: style-counters */[m
[32m+[m[32mbody {[m
[32m+[m[32m    counter-reset: example figure issue;[m
[32m+[m[32m}[m
[32m+[m[32m.issue {[m
[32m+[m[32m    counter-increment: issue;[m
[32m+[m[32m}[m
[32m+[m[32m.issue:not(.no-marker)::before {[m
[32m+[m[32m    content: "Issue " counter(issue);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.example {[m
[32m+[m[32m    counter-increment: example;[m
[32m+[m[32m}[m
[32m+[m[32m.example:not(.no-marker)::before {[m
[32m+[m[32m    content: "Example " counter(example);[m
[32m+[m[32m}[m
[32m+[m[32m.invalid.example:not(.no-marker)::before,[m
[32m+[m[32m.illegal.example:not(.no-marker)::before {[m
[32m+[m[32m    content: "Invalid Example" counter(example);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfigcaption {[m
[32m+[m[32m    counter-increment: figure;[m
[32m+[m[32m}[m
[32m+[m[32mfigcaption:not(.no-marker)::before {[m
[32m+[m[32m    content: "Figure " counter(figure) " ";[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m<style>/* Boilerplate: style-dfn-panel */[m
[32m+[m[32m:root {[m
[32m+[m[32m    --dfnpanel-bg: #ddd;[m
[32m+[m[32m    --dfnpanel-text: var(--text);[m
[32m+[m[32m    --dfnpanel-target-bg: #ffc;[m
[32m+[m[32m    --dfnpanel-target-outline: orange;[m
[32m+[m[32m}[m
[32m+[m[32m@media (prefers-color-scheme: dark) {[m
[32m+[m[32m    :root {[m
[32m+[m[32m        --dfnpanel-bg: #222;[m
[32m+[m[32m        --dfnpanel-text: var(--text);[m
[32m+[m[32m        --dfnpanel-target-bg: #333;[m
[32m+[m[32m        --dfnpanel-target-outline: silver;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m[32m.dfn-panel {[m
[32m+[m[32m    position: absolute;[m
[32m+[m[32m    z-index: 35;[m
[32m+[m[32m    width: 20em;[m
[32m+[m[32m    width: 300px;[m
[32m+[m[32m    height: auto;[m
[32m+[m[32m    max-height: 500px;[m
[32m+[m[32m    overflow: auto;[m
[32m+[m[32m    padding: 0.5em 0.75em;[m
[32m+[m[32m    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;[m
[32m+[m[32m    background: var(--dfnpanel-bg);[m
[32m+[m[32m    color: var(--dfnpanel-text);[m
[32m+[m[32m    border: outset 0.2em;[m
[32m+[m[32m    white-space: normal; /* in case it's moved into a pre */[m
[32m+[m[32m}[m
[32m+[m[32m.dfn-panel:not(.on) { display: none; }[m
[32m+[m[32m.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }[m
[32m+[m[32m.dfn-panel > b { display: block; }[m
[32m+[m[32m.dfn-panel a { color: var(--dfnpanel-text); }[m
[32m+[m[32m.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }[m
[32m+[m[32m.dfn-panel a:focus {[m
[32m+[m[32m    outline: 5px auto Highlight;[m
[32m+[m[32m    outline: 5px auto -webkit-focus-ring-color;[m
[32m+[m[32m}[m
[32m+[m[32m.dfn-panel > b + b { margin-top: 0.25em; }[m
[32m+[m[32m.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }[m
[32m+[m[32m.dfn-panel li a {[m
[32m+[m[32m    max-width: calc(300px - 1.5em - 1em);[m
[32m+[m[32m    overflow: hidden;[m
[32m+[m[32m    text-overflow: ellipsis;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.dfn-panel.activated {[m
[32m+[m[32m    display: inline-block;[m
[32m+[m[32m    position: fixed;[m
[32m+[m[32m    left: 8px;[m
[32m+[m[32m    bottom: 2em;[m
[32m+[m[32m    margin: 0 auto;[m
[32m+[m[32m    max-width: calc(100vw - 1.5em - .4em - .5em);[m
[32m+[m[32m    max-height: 30vh;[m
[32m+[m[32m    transition: left 1s ease-out, bottom 1s ease-out;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.dfn-panel .link-item:hover {[m
[32m+[m[32m    text-decoration: underline;[m
[32m+[m[32m}[m
[32m+[m[32m.dfn-panel .link-item .copy-icon {[m
[32m+[m[32m    opacity: 0;[m
[32m+[m[32m}[m
[32m+[m[32m.dfn-panel .link-item:hover .copy-icon,[m
[32m+[m[32m.dfn-panel .link-item .copy-icon:focus {[m
[32m+[m[32m    opacity: 1;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.dfn-panel .copy-icon {[m
[32m+[m[32m    display: inline-block;[m
[32m+[m[32m    margin-right: 0.5em;[m
[32m+[m[32m    width: 0.85em;[m
[32m+[m[32m    height: 1em;[m
[32m+[m[32m    border-radius: 3px;[m
[32m+[m[32m    background-color: #ccc;[m
[32m+[m[32m    cursor: pointer;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.dfn-panel .copy-icon .icon {[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m    height: 100%;[m
[32m+[m[32m    background-color: #fff;[m
[32m+[m[32m    display: flex;[m
[32m+[m[32m    justify-content: center;[m
[32m+[m[32m    align-items: center;[m
[32m+[m[32m    position: relative;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.dfn-panel .copy-icon .icon::before {[m
[32m+[m[32m    content: "";[m
[32m+[m[32m    position: absolute;[m
[32m+[m[32m    top: 0;[m
[32m+[m[32m    left: 0;[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m    height: 100%;[m
[32m+[m[32m    border: 1px solid black;[m
[32m+[m[32m    background-color: #ccc;[m
[32m+[m[32m    opacity: 0.25;[m
[32m+[m[32m    transform: translate(3px, -3px);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.dfn-panel .copy-icon:active .icon::before {[m
[32m+[m[32m    opacity: 1;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.dfn-paneled[role="button"] { cursor: help; }[m
[32m+[m
[32m+[m[32m.highlighted {[m
[32m+[m[32m    animation: target-fade 3s;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@keyframes target-fade {[m
[32m+[m[32m    from {[m
[32m+[m[32m        background-color: var(--dfnpanel-target-bg);[m
[32m+[m[32m        outline: 5px solid var(--dfnpanel-target-outline);[m
[32m+[m[32m    }[m
[32m+[m[32m    to {[m
[32m+[m[32m        color: var(--a-normal-text);[m
[32m+[m[32m        background-color: transparent;[m
[32m+[m[32m        outline: transparent;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m<style>/* Boilerplate: style-issues */[m
[32m+[m[32ma[href].issue-return {[m
[32m+[m[32m    float: right;[m
[32m+[m[32m    float: inline-end;[m
[32m+[m[32m    color: var(--issueheading-text);[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m    text-decoration: none;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m<style>/* Boilerplate: style-md-lists */[m
[32m+[m[32m/* This is a weird hack for me not yet following the commonmark spec[m
[32m+[m[32m   regarding paragraph and lists. */[m
[32m+[m[32m[data-md] > :first-child {[m
[32m+[m[32m    margin-top: 0;[m
[32m+[m[32m}[m
[32m+[m[32m[data-md] > :last-child {[m
[32m+[m[32m    margin-bottom: 0;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m<style>/* Boilerplate: style-ref-hints */[m
[32m+[m[32m:root {[m
[32m+[m[32m    --ref-hint-bg: #ddd;[m
[32m+[m[32m    --ref-hint-text: var(--text);[m
[32m+[m[32m}[m
[32m+[m[32m@media (prefers-color-scheme: dark) {[m
[32m+[m[32m    :root {[m
[32m+[m[32m        --ref-hint-bg: #222;[m
[32m+[m[32m        --ref-hint-text: var(--text);[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.ref-hint {[m
[32m+[m[32m    display: inline-block;[m
[32m+[m[32m    position: absolute;[m
[32m+[m[32m    z-index: 35;[m
[32m+[m[32m    width: 20em;[m
[32m+[m[32m    width: 300px;[m
[32m+[m[32m    height: auto;[m
[32m+[m[32m    max-height: 500px;[m
[32m+[m[32m    overflow: auto;[m
[32m+[m[32m    padding: 0.5em 0.5em;[m
[32m+[m[32m    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;[m
[32m+[m[32m    background: var(--ref-hint-bg);[m
[32m+[m[32m    color: var(--ref-hint-text);[m
[32m+[m[32m    border: outset 0.2em;[m
[32m+[m[32m    white-space: normal; /* in case it's moved into a pre */[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.ref-hint * { margin: 0; padding: 0; text-indent: 0; }[m
[32m+[m
[32m+[m[32m.ref-hint ul { padding: 0 0 0 1em; list-style: none; }[m
[32m+[m[32m</style>[m
[32m+[m[32m<style>/* Boilerplate: style-selflinks */[m
[32m+[m[32m:root {[m
[32m+[m[32m    --selflink-text: white;[m
[32m+[m[32m    --selflink-bg: gray;[m
[32m+[m[32m    --selflink-hover-text: black;[m
[32m+[m[32m}[m
[32m+[m[32m.heading, .issue, .note, .example, li, dt {[m
[32m+[m[32m    position: relative;[m
[32m+[m[32m}[m
[32m+[m[32ma.self-link {[m
[32m+[m[32m    position: absolute;[m
[32m+[m[32m    top: 0;[m
[32m+[m[32m    left: calc(-1 * (3.5rem - 26px));[m
[32m+[m[32m    width: calc(3.5rem - 26px);[m
[32m+[m[32m    height: 2em;[m
[32m+[m[32m    text-align: center;[m
[32m+[m[32m    border: none;[m
[32m+[m[32m    transition: opacity .2s;[m
[32m+[m[32m    opacity: .5;[m
[32m+[m[32m}[m
[32m+[m[32ma.self-link:hover {[m
[32m+[m[32m    opacity: 1;[m
[32m+[m[32m}[m
[32m+[m[32m.heading > a.self-link {[m
[32m+[m[32m    font-size: 83%;[m
[32m+[m[32m}[m
[32m+[m[32m.example > a.self-link,[m
[32m+[m[32m.note > a.self-link,[m
[32m+[m[32m.issue > a.self-link {[m
[32m+[m[32m    /* These blocks are overflow:auto, so positioning outside[m
[32m+[m[32m       doesn't work. */[m
[32m+[m[32m    left: auto;[m
[32m+[m[32m    right: 0;[m
[32m+[m[32m}[m
[32m+[m[32mli > a.self-link {[m
[32m+[m[32m    left: calc(-1 * (3.5rem - 26px) - 2em);[m
[32m+[m[32m}[m
[32m+[m[32mdfn > a.self-link {[m
[32m+[m[32m    top: auto;[m
[32m+[m[32m    left: auto;[m
[32m+[m[32m    opacity: 0;[m
[32m+[m[32m    width: 1.5em;[m
[32m+[m[32m    height: 1.5em;[m
[32m+[m[32m    background: var(--selflink-bg);[m
[32m+[m[32m    color: var(--selflink-text);[m
[32m+[m[32m    font-style: normal;[m
[32m+[m[32m    transition: opacity .2s, background-color .2s, color .2s;[m
[32m+[m[32m}[m
[32m+[m[32mdfn:hover > a.self-link {[m
[32m+[m[32m    opacity: 1;[m
[32m+[m[32m}[m
[32m+[m[32mdfn > a.self-link:hover {[m
[32m+[m[32m    color: var(--selflink-hover-text);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32ma.self-link::before            { content: "Â¶"; }[m
[32m+[m[32m.heading > a.self-link::before { content: "Â§"; }[m
[32m+[m[32mdfn > a.self-link::before      { content: "#"; }[m
[32m+[m[32m</style>[m
[32m+[m[32m<style>/* Boilerplate: style-syntax-highlighting */[m
[32m+[m[32mcode.highlight { padding: .1em; border-radius: .3em; }[m
[32m+[m[32mpre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }[m
[32m+[m
[32m+[m[32m.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }[m
[32m+[m[32mc-[a] { color: #990055 } /* Keyword.Declaration */[m
[32m+[m[32mc-[b] { color: #990055 } /* Keyword.Type */[m
[32m+[m[32mc-[c] { color: #708090 } /* Comment */[m
[32m+[m[32mc-[d] { color: #708090 } /* Comment.Multiline */[m
[32m+[m[32mc-[e] { color: #0077aa } /* Name.Attribute */[m
[32m+[m[32mc-[f] { color: #669900 } /* Name.Tag */[m
[32m+[m[32mc-[g] { color: #222222 } /* Name.Variable */[m
[32m+[m[32mc-[k] { color: #990055 } /* Keyword */[m
[32m+[m[32mc-[l] { color: #000000 } /* Literal */[m
[32m+[m[32mc-[m] { color: #000000 } /* Literal.Number */[m
[32m+[m[32mc-[n] { color: #0077aa } /* Name */[m
[32m+[m[32mc-[o] { color: #999999 } /* Operator */[m
[32m+[m[32mc-[p] { color: #999999 } /* Punctuation */[m
[32m+[m[32mc-[s] { color: #a67f59 } /* Literal.String */[m
[32m+[m[32mc-[t] { color: #a67f59 } /* Literal.String.Single */[m
[32m+[m[32mc-[u] { color: #a67f59 } /* Literal.String.Double */[m
[32m+[m[32mc-[cp] { color: #708090 } /* Comment.Preproc */[m
[32m+[m[32mc-[c1] { color: #708090 } /* Comment.Single */[m
[32m+[m[32mc-[cs] { color: #708090 } /* Comment.Special */[m
[32m+[m[32mc-[kc] { color: #990055 } /* Keyword.Constant */[m
[32m+[m[32mc-[kn] { color: #990055 } /* Keyword.Namespace */[m
[32m+[m[32mc-[kp] { color: #990055 } /* Keyword.Pseudo */[m
[32m+[m[32mc-[kr] { color: #990055 } /* Keyword.Reserved */[m
[32m+[m[32mc-[ld] { color: #000000 } /* Literal.Date */[m
[32m+[m[32mc-[nc] { color: #0077aa } /* Name.Class */[m
[32m+[m[32mc-[no] { color: #0077aa } /* Name.Constant */[m
[32m+[m[32mc-[nd] { color: #0077aa } /* Name.Decorator */[m
[32m+[m[32mc-[ni] { color: #0077aa } /* Name.Entity */[m
[32m+[m[32mc-[ne] { color: #0077aa } /* Name.Exception */[m
[32m+[m[32mc-[nf] { color: #0077aa } /* Name.Function */[m
[32m+[m[32mc-[nl] { color: #0077aa } /* Name.Label */[m
[32m+[m[32mc-[nn] { color: #0077aa } /* Name.Namespace */[m
[32m+[m[32mc-[py] { color: #0077aa } /* Name.Property */[m
[32m+[m[32mc-[ow] { color: #999999 } /* Operator.Word */[m
[32m+[m[32mc-[mb] { color: #000000 } /* Literal.Number.Bin */[m
[32m+[m[32mc-[mf] { color: #000000 } /* Literal.Number.Float */[m
[32m+[m[32mc-[mh] { color: #000000 } /* Literal.Number.Hex */[m
[32m+[m[32mc-[mi] { color: #000000 } /* Literal.Number.Integer */[m
[32m+[m[32mc-[mo] { color: #000000 } /* Literal.Number.Oct */[m
[32m+[m[32mc-[sb] { color: #a67f59 } /* Literal.String.Backtick */[m
[32m+[m[32mc-[sc] { color: #a67f59 } /* Literal.String.Char */[m
[32m+[m[32mc-[sd] { color: #a67f59 } /* Literal.String.Doc */[m
[32m+[m[32mc-[se] { color: #a67f59 } /* Literal.String.Escape */[m
[32m+[m[32mc-[sh] { color: #a67f59 } /* Literal.String.Heredoc */[m
[32m+[m[32mc-[si] { color: #a67f59 } /* Literal.String.Interpol */[m
[32m+[m[32mc-[sx] { color: #a67f59 } /* Literal.String.Other */[m
[32m+[m[32mc-[sr] { color: #a67f59 } /* Literal.String.Regex */[m
[32m+[m[32mc-[ss] { color: #a67f59 } /* Literal.String.Symbol */[m
[32m+[m[32mc-[vc] { color: #0077aa } /* Name.Variable.Class */[m
[32m+[m[32mc-[vg] { color: #0077aa } /* Name.Variable.Global */[m
[32m+[m[32mc-[vi] { color: #0077aa } /* Name.Variable.Instance */[m
[32m+[m[32mc-[il] { color: #000000 } /* Literal.Number.Integer.Long */[m
[32m+[m
[32m+[m[32m@media (prefers-color-scheme: dark) {[m
[32m+[m[32m    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }[m
[32m+[m
[32m+[m[32m    c-[a] { color: #d33682 } /* Keyword.Declaration */[m
[32m+[m[32m    c-[b] { color: #d33682 } /* Keyword.Type */[m
[32m+[m[32m    c-[c] { color: #2aa198 } /* Comment */[m
[32m+[m[32m    c-[d] { color: #2aa198 } /* Comment.Multiline */[m
[32m+[m[32m    c-[e] { color: #268bd2 } /* Name.Attribute */[m
[32m+[m[32m    c-[f] { color: #b58900 } /* Name.Tag */[m
[32m+[m[32m    c-[g] { color: #cb4b16 } /* Name.Variable */[m
[32m+[m[32m    c-[k] { color: #d33682 } /* Keyword */[m
[32m+[m[32m    c-[l] { color: #657b83 } /* Literal */[m
[32m+[m[32m    c-[m] { color: #657b83 } /* Literal.Number */[m
[32m+[m[32m    c-[n] { color: #268bd2 } /* Name */[m
[32m+[m[32m    c-[o] { color: #657b83 } /* Operator */[m
[32m+[m[32m    c-[p] { color: #657b83 } /* Punctuation */[m
[32m+[m[32m    c-[s] { color: #6c71c4 } /* Literal.String */[m
[32m+[m[32m    c-[t] { color: #6c71c4 } /* Literal.String.Single */[m
[32m+[m[32m    c-[u] { color: #6c71c4 } /* Literal.String.Double */[m
[32m+[m[32m    c-[ch] { color: #2aa198 } /* Comment.Hashbang */[m
[32m+[m[32m    c-[cp] { color: #2aa198 } /* Comment.Preproc */[m
[32m+[m[32m    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */[m
[32m+[m[32m    c-[c1] { color: #2aa198 } /* Comment.Single */[m
[32m+[m[32m    c-[cs] { color: #2aa198 } /* Comment.Special */[m
[32m+[m[32m    c-[kc] { color: #d33682 } /* Keyword.Constant */[m
[32m+[m[32m    c-[kn] { color: #d33682 } /* Keyword.Namespace */[m
[32m+[m[32m    c-[kp] { color: #d33682 } /* Keyword.Pseudo */[m
[32m+[m[32m    c-[kr] { color: #d33682 } /* Keyword.Reserved */[m
[32m+[m[32m    c-[ld] { color: #657b83 } /* Literal.Date */[m
[32m+[m[32m    c-[nc] { color: #268bd2 } /* Name.Class */[m
[32m+[m[32m    c-[no] { color: #268bd2 } /* Name.Constant */[m
[32m+[m[32m    c-[nd] { color: #268bd2 } /* Name.Decorator */[m
[32m+[m[32m    c-[ni] { color: #268bd2 } /* Name.Entity */[m
[32m+[m[32m    c-[ne] { color: #268bd2 } /* Name.Exception */[m
[32m+[m[32m    c-[nf] { color: #268bd2 } /* Name.Function */[m
[32m+[m[32m    c-[nl] { color: #268bd2 } /* Name.Label */[m
[32m+[m[32m    c-[nn] { color: #268bd2 } /* Name.Namespace */[m
[32m+[m[32m    c-[py] { color: #268bd2 } /* Name.Property */[m
[32m+[m[32m    c-[ow] { color: #657b83 } /* Operator.Word */[m
[32m+[m[32m    c-[mb] { color: #657b83 } /* Literal.Number.Bin */[m
[32m+[m[32m    c-[mf] { color: #657b83 } /* Literal.Number.Float */[m
[32m+[m[32m    c-[mh] { color: #657b83 } /* Literal.Number.Hex */[m
[32m+[m[32m    c-[mi] { color: #657b83 } /* Literal.Number.Integer */[m
[32m+[m[32m    c-[mo] { color: #657b83 } /* Literal.Number.Oct */[m
[32m+[m[32m    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */[m
[32m+[m[32m    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */[m
[32m+[m[32m    c-[sc] { color: #6c71c4 } /* Literal.String.Char */[m
[32m+[m[32m    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */[m
[32m+[m[32m    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */[m
[32m+[m[32m    c-[se] { color: #6c71c4 } /* Literal.String.Escape */[m
[32m+[m[32m    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */[m
[32m+[m[32m    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */[m
[32m+[m[32m    c-[sx] { color: #6c71c4 } /* Literal.String.Other */[m
[32m+[m[32m    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */[m
[32m+[m[32m    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */[m
[32m+[m[32m    c-[fm] { color: #268bd2 } /* Name.Function.Magic */[m
[32m+[m[32m    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */[m
[32m+[m[32m    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */[m
[32m+[m[32m    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */[m
[32m+[m[32m    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */[m
[32m+[m[32m    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">[m
[32m+[m[32m  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">[m
[32m+[m[32m <body class="h-entry">[m
[32m+[m[32m  <div class="head">[m
[32m+[m[32m   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>[m
[32m+[m[32m   <h1 class="p-name no-ref" id="title">Accessibility Conformance Testing (ACT) Rules Format 1.1</h1>[m
[32m+[m[32m   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#ED">Editorâ€™s Draft</a>, <time class="dt-updated" datetime="2025-03-05">5 March 2025</time></p>[m
[32m+[m[32m   <details open>[m
[32m+[m[32m    <summary>More details about this document</summary>[m
[32m+[m[32m    <div data-fill-with="spec-metadata">[m
[32m+[m[32m     <dl>[m
[32m+[m[32m      <dt>This version:[m
[32m+[m[32m      <dd><a class="u-url" href="https://w3c.github.io/wcag-act/act-rules-format.html">https://w3c.github.io/wcag-act/act-rules-format.html</a>[m
[32m+[m[32m      <dt>Latest published version:[m
[32m+[m[32m      <dd><a href="https://www.w3.org/TR/act-rules-format/">https://www.w3.org/TR/act-rules-format/</a>[m
[32m+[m[32m      <dt>Previous Versions:[m
[32m+[m[32m      <dd><a href="https://www.w3.org/TR/act-rules-format-1.0/" rel="prev">https://www.w3.org/TR/act-rules-format-1.0/</a>[m
[32m+[m[32m      <dt>Feedback:[m
[32m+[m[32m      <dd><a href="https://github.com/w3c/wcag-act/issues/">GitHub</a>[m
[32m+[m[32m      <dt class="editor">Editors:[m
[32m+[m[32m      <dd class="editor p-author h-card vcard" data-editor-id="43334"><span class="p-name fn">Wilco Fiers</span> (<span class="p-org org">Deque Systems</span>)[m
[32m+[m[32m      <dd class="editor p-author h-card vcard" data-editor-id="107871"><span class="p-name fn">Kathy Eng</span> (<span class="p-org org">US Access Board</span>)[m
[32m+[m[32m      <dd class="editor p-author h-card vcard" data-editor-id="105887"><span class="p-name fn">Trevor Bostic</span> (<span class="p-org org">MITRE Corp.</span>)[m
[32m+[m[32m      <dd class="editor p-author h-card vcard" data-editor-id="114058"><span class="p-name fn">Daniel Montalvo</span> (<span class="p-org org">W3C</span>)[m
[32m+[m[32m      <dt class="editor">Former Editors:[m
[32m+[m[32m      <dd class="editor p-author h-card vcard"><span class="p-name fn">Maureen Kraft</span> (<span class="p-org org">IBM Corp.</span>)[m
[32m+[m[32m      <dd class="editor p-author h-card vcard"><span class="p-name fn">Mary Jo Mueller</span> (<span class="p-org org">IBM Corp.</span>)[m
[32m+[m[32m      <dd class="editor p-author h-card vcard"><span class="p-name fn">Shadi Abou-Zahra</span> (<span class="p-org org">W3C</span>)[m
[32m+[m[32m     </dl>[m
[32m+[m[32m    </div>[m
[32m+[m[32m   </details>[m
[32m+[m[32m   <div data-fill-with="warning"></div>[m
[32m+[m[32m   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> Â© 2024 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>Â®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/document-license/">document use</a> rules apply.</p>[m
[32m+[m[32m   <hr title="Separator for header">[m
[32m+[m[32m  </div>[m
[32m+[m[32m  <div class="p-summary" data-fill-with="abstract">[m
[32m+[m[32m   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>[m
[32m+[m[32m   <p>The Accessibility Conformance Testing (ACT) Rules Format 1.1 defines a format for writing accessibility test rules. These test rules can be used for developing automated testing tools and manual testing methodologies. It provides a common format that allows any party involved in accessibility testing to document and share their testing procedures in a robust and understandable manner. This enables transparency and harmonization of testing methods, including methods implemented by accessibility test tools.</p>[m
[32m+[m[32m  </div>[m
[32m+[m[32m  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>[m
[32m+[m[32m  <div data-fill-with="status">[m
[32m+[m[32m   <p><em>This section describes the status of this document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at https://www.w3.org/TR/.</em></p>[m
[32m+[m[32m   <p>This is an Editor Draft of Accessibility Conformance Testing (ACT) Rules Format 1.1, prepared by the <a href="https://www.w3.org/wai/gl/task-forces/conformance-testing/">Accessibility Conformance Testing (ACT) Task Force</a> of the <a href="https://www.w3.org/WAI/GL/">Accessibility Guidelines Working Group (AGWG)</a>. This document is an Editor Draft and does not represent consensus of the <a href="https://www.w3.org/WAI/GL/">Accessibility Guidelines Working Group</a>. This document is intended to become a <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation after further review and refinement.</p>[m
[32m+[m[32m   <p>This is an Editor Draft for review and refinement within ACT TF and AGWG. It is not ready for public comments. Before commenting, please first review the <a href="https://github.com/w3c/wcag-act/"><abbr title="World Wide Web Consortium">W3C</abbr> ACT TF GitHub repository</a> for related comments. New comments can be submitted as <a href="https://github.com/w3c/wcag-act/issues/new">new GitHub issues</a> or by email to <a href="mailto:public-wcag-act-comments@w3.org?subject=ACT%20Fomrmat%201.1%20public%20comment">public-wcag-act-comments@w3.org</a> (<a href="https://lists.w3.org/Archives/Public/public-wcag-act-comments/">public list archive</a>).</p>[m
[32m+[m[32m   <p>Publication as an Editor Draft does not imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. This is a draft document and may be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite this document as other than work in progress.</p>[m
[32m+[m[32m   <p></p>[m
[32m+[m[32m   <p>To comment, <a href="https://github.com/w3c/wcag-act/issues/new">file an issue in the <abbr title="World Wide Web Consortium">W3C</abbr> ACT GitHub repository</a>. It is free to create a GitHub account to file issues. If filing issues in GitHub is not feasible, send email to <a href="mailto:public-wcag-act-comments@w3.org?subject=ACT%20Format%201.1%20public%20comment">public-wcag-act-comments@w3.org</a> (<a href="https://lists.w3.org/Archives/Public/public-wcag-act-comments/">comment archive</a>). Comments are requested by <strong>18 August 2024</strong>. In-progress updates to the document may be viewed in the <a href="https://w3c.github.io/wcag-act/act-rules-format.html">publicly visible editors' draft</a>.</p>[m
[32m+[m[32m   <p>This document was produced by a group operating under the <a href="https://www.w3.org/Consortium/Patent-Policy/">W3C Patent Policy</a>. W3C maintains a <a href="https://www.w3.org/groups/wg/ag/ipr/" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the W3C Patent Policy</a>.</p>[m
[32m+[m[32m   <p>This document is governed by the <a href="https://www.w3.org/2023/Process-20231103/" id="w3c_process_revision">03 November 2023 W3C Process Document</a>. </p>[m
[32m+[m[32m  </div>[m
[32m+[m[32m  <div data-fill-with="at-risk"></div>[m
[32m+[m[32m  <nav data-fill-with="table-of-contents" id="toc">[m
[32m+[m[32m   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>[m
[32m+[m[32m   <ol class="toc" role="directory">[m
[32m+[m[32m    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>[m
[32m+[m[32m    <li><a href="#scope"><span class="secno">2</span> <span class="content">Scope</span></a>[m
[32m+[m[32m    <li><a href="#rule-types"><span class="secno">3</span> <span class="content">ACT Rule Types</span></a>[m
[32m+[m[32m    <li>[m
[32m+[m[32m     <a href="#act-rule-structure"><span class="secno">4</span> <span class="content">ACT Rule Structure</span></a>[m
[32m+[m[32m     <ol class="toc">[m
[32m+[m[32m      <li><a href="#rule-identifier"><span class="secno">4.1</span> <span class="content">Rule Identifier</span></a>[m
[32m+[m[32m      <li><a href="#rule-description"><span class="secno">4.2</span> <span class="content">Rule Description</span></a>[m
[32m+[m[32m      <li><a href="#rule-type"><span class="secno">4.3</span> <span class="content">Rule Type</span></a>[m
[32m+[m[32m      <li>[m
[32m+[m[32m       <a href="#accessibility-requirements-mapping"><span class="secno">4.4</span> <span class="content">Accessibility Requirements Mapping</span></a>[m
[32m+[m[32m       <ol class="toc">[m
[32m+[m[32m        <li>[m
[32m+[m[32m         <a href="#outcome-mapping"><span class="secno">4.4.1</span> <span class="content">Outcome Mapping</span></a>[m
[32m+[m[32m         <ol class="toc">[m
[32m+[m[32m          <li><a href="#conformance-requirements"><span class="secno">4.4.1.1</span> <span class="content"><span>Conformance Requirements</span></span></a>[m
[32m+[m[32m          <li><a href="#secondary-requirements"><span class="secno">4.4.1.2</span> <span class="content"><span>Secondary Requirements</span></span></a>[m
[32m+[m[32m         </ol>[m
[32m+[m[32m        <li><a href="#mapping-outside-wcag"><span class="secno">4.4.2</span> <span class="content">Mapping Outside WCAG</span></a>[m
[32m+[m[32m        <li><a href="#rules-without-accessibility-requirements"><span class="secno">4.4.3</span> <span class="content">Rules Without Accessibility Requirements</span></a>[m
[32m+[m[32m        <li><a href="#external-accessibility-requirements-mapping"><span class="secno">4.4.4</span> <span class="content">External Accessibility Requirements Mapping</span></a>[m
[32m+[m[32m       </ol>[m
[32m+[m[32m      <li>[m
[32m+[m[32m       <a href="#input"><span class="secno">4.5</span> <span class="content">Rule Input</span></a>[m
[32m+[m[32m       <ol class="toc">[m
[32m+[m[32m        <li><a href="#input-aspects"><span class="secno">4.5.1</span> <span class="content">Input Aspects (Atomic rules only)</span></a>[m
[32m+[m[32m        <li><a href="#input-rules"><span class="secno">4.5.2</span> <span class="content">Input Rules (Composite rules only)</span></a>[m
[32m+[m[32m       </ol>[m
[32m+[m[32m      <li>[m
[32m+[m[32m       <a href="#applicability"><span class="secno">4.6</span> <span class="content">Applicability</span></a>[m
[32m+[m[32m       <ol class="toc">[m
[32m+[m[32m        <li>[m
[32m+[m[32m         <a href="#applicability-atomic"><span class="secno">4.6.1</span> <span class="content">Applicability for Atomic Rules</span></a>[m
[32m+[m[32m         <ol class="toc">[m
[32m+[m[32m          <li><a href="#applicability-type-designation-atomic-optional"><span class="secno">4.6.1.1</span> <span class="content">Applicability Type Designation (optional)</span></a>[m
[32m+[m[32m         </ol>[m
[32m+[m[32m        <li>[m
[32m+[m[32m         <a href="#applicability-composite"><span class="secno">4.6.2</span> <span class="content">Applicability for Composite Rules</span></a>[m
[32m+[m[32m         <ol class="toc">[m
[32m+[m[32m          <li><a href="#applicability-type-designation-composite-optional"><span class="secno">4.6.2.1</span> <span class="content">Applicability Type Designation (optional)</span></a>[m
[32m+[m[32m         </ol>[m
[32m+[m[32m       </ol>[m
[32m+[m[32m      <li>[m
[32m+[m[32m       <a href="#expectations"><span class="secno">4.7</span> <span class="content">Expectations</span></a>[m
[32m+[m[32m       <ol class="toc">[m
[32m+[m[32m        <li><a href="#expectations-atomic"><span class="secno">4.7.1</span> <span class="content">Expectations for Atomic Rules</span></a>[m
[32m+[m[32m        <li><a href="#expectations-composite"><span class="secno">4.7.2</span> <span class="content">Expectations for Composite Rules</span></a>[m
[32m+[m[32m       </ol>[m
[32m+[m[32m      <li>[m
[32m+[m[32m       <a href="#background"><span class="secno">4.8</span> <span class="content">Background</span></a>[m
[32m+[m[32m       <ol class="toc">[m
[32m+[m[32m        <li><a href="#assumptions"><span class="secno">4.8.1</span> <span class="content">Assumptions</span></a>[m
[32m+[m[32m        <li><a href="#accessibility-support"><span class="secno">4.8.2</span> <span class="content">Accessibility Support</span></a>[m
[32m+[m[32m        <li><a href="#related-rules"><span class="secno">4.8.3</span> <span class="content">Related Rules (optional)</span></a>[m
[32m+[m[32m        <li><a href="#other-resources"><span class="secno">4.8.4</span> <span class="content">Other Resources (optional)</span></a>[m
[32m+[m[32m       </ol>[m
[32m+[m[32m      <li><a href="#test-cases"><span class="secno">4.9</span> <span class="content">Test Cases</span></a>[m
[32m+[m[32m      <li><a href="#rule-versions"><span class="secno">4.10</span> <span class="content">Rule Versions</span></a>[m
[32m+[m[32m      <li><a href="#act-rules-format-version"><span class="secno">4.11</span> <span class="content">ACT Rules Format Version</span></a>[m
[32m+[m[32m      <li><a href="#glossary"><span class="secno">4.12</span> <span class="content">Glossary</span></a>[m
[32m+[m[32m      <li><a href="#issues-list"><span class="secno">4.13</span> <span class="content">Issues List (optional)</span></a>[m
[32m+[m[32m      <li>[m
[32m+[m[32m       <a href="#implementations"><span class="secno">4.14</span> <span class="content">Implementations (optional)</span></a>[m
[32m+[m[32m       <ol class="toc">[m
[32m+[m[32m        <li><a href="#impl-consistency"><span class="secno">4.14.1</span> <span class="content">Consistency</span></a>[m
[32m+[m[32m        <li><a href="#impl-partial-consistency"><span class="secno">4.14.2</span> <span class="content">Partial Consistency</span></a>[m
[32m+[m[32m        <li><a href="#impl-multi-check"><span class="secno">4.14.3</span> <span class="content">Consistency with multiple checks</span></a>[m
[32m+[m[32m       </ol>[m
[32m+[m[32m      <li><a href="#acknowledgments"><span class="secno">4.15</span> <span class="content">Acknowledgments (optional)</span></a>[m
[32m+[m[32m     </ol>[m
[32m+[m[32m    <li><a href="#rule-accuracy"><span class="secno">5</span> <span class="content">Rule Accuracy</span></a>[m
[32m+[m[32m    <li><a href="#harmonization"><span class="secno">6</span> <span class="content">Harmonization</span></a>[m
[32m+[m[32m    <li><a href="#privacy-considerations"><span class="secno">7</span> <span class="content">Privacy Considerations</span></a>[m
[32m+[m[32m    <li><a href="#security-considerations"><span class="secno">8</span> <span class="content">Security considerations</span></a>[m
[32m+[m[32m    <li><a href="#definitions"><span class="secno">9</span> <span class="content">Definitions</span></a>[m
[32m+[m[32m    <li><a href="#appendix-data-example"><span class="secno"></span> <span class="content">Appendix 1: Expressing ACT Rule results with JSON-LD and EARL</span></a>[m
[32m+[m[32m    <li>[m
[32m+[m[32m     <a href="#Acknowledgments"><span class="secno"></span> <span class="content">Appendix 2: Acknowledgments</span></a>[m
[32m+[m[32m     <ol class="toc">[m
[32m+[m[32m      <li><a href="#participants"><span class="secno"></span> <span class="content">Participants of the AG WG active in the development of this document</span></a>[m
[32m+[m[32m      <li><a href="#enabling-funders"><span class="secno"></span> <span class="content">Enabling funders</span></a>[m
[32m+[m[32m     </ol>[m
[32m+[m[32m    <li><a href="#Change_History"><span class="secno"></span> <span class="content">Appendix 3: Change History</span></a>[m
[32m+[m[32m    <li>[m
[32m+[m[32m     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>[m
[32m+[m[32m     <ol class="toc">[m
[32m+[m[32m      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>[m
[32m+[m[32m      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>[m
[32m+[m[32m     </ol>[m
[32m+[m[32m    <li>[m
[32m+[m[32m     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>[m
[32m+[m[32m     <ol class="toc">[m
[32m+[m[32m      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>[m
[32m+[m[32m      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>[m
[32m+[m[32m     </ol>[m
[32m+[m[32m    <li>[m
[32m+[m[32m     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>[m
[32m+[m[32m     <ol class="toc">[m
[32m+[m[32m      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>[m
[32m+[m[32m      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>[m
[32m+[m[32m     </ol>[m
[32m+[m[32m   </ol>[m
[32m+[m[32m  </nav>[m
[32m+[m[32m  <main>[m
[32m+[m[32m   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>[m
[32m+[m[32m   <p>There are currently many test procedures and tools available which aid their users in testing web content for conformance to accessibility standards such as the <a href="https://www.w3.org/WAI/standards-guidelines/wcag/">Web Content Accessibility Guidelines</a> <a data-link-type="biblio" href="#biblio-wcag22" title="Web Content Accessibility Guidelines (WCAG) 2.2">[WCAG22]</a>. As the Web develops in both size and complexity, these procedures and tools are essential for managing the accessibility of resources available on the Web.</p>[m
[32m+[m[32m   <p>This format is intended to enable a consistent interpretation of how to test conformance to WCAG and other <a data-link-type="dfn" href="#accessibility-requirements-document" id="ref-for-accessibility-requirements-document">accessibility requirements documents</a> and promote consistent results in accessibility testing. The rules format is designed to describe both manual accessibility tests, as well as automated tests as performed by accessibility testing tools.</p>[m
[32m+[m[32m   <p>Documenting how to test <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirement">accessibility requirements</a> will result in accessibility tests that are transparent, with test results that are reproducible. The Accessibility Conformance Testing (ACT) Rules Format defines the requirements for these test descriptions, known as Accessibility Conformance Testing Rules (ACT Rules).</p>[m
[32m+[m[32m   <p>An ACT Rule is a plain language description of how to test a specific type of content for a specific aspect of an accessibility requirement. An ACT Rule describes what kind of content it applies to and which conditions are true about the applicable elements for them to meet all expectations of the rule. In the context of WCAG, ACT Rules test for failures in satisfying Success Criteria. Such failures are often described in <a href="https://www.w3.org/TR/WCAG22/#wcag-2-layers-of-guidance">common failures</a> documented for WCAG. ACT Rules are written for the testing process and are usually more specific than common failures.</p>[m
[32m+[m[32m   <p>The ACT Rules Format defines the requirements and rule structure for the types of information each rule needs to include to be called an ACT Rule. The structure of the ACT rule is defined in the <a href="#act-rule-structure">ACT Rule Structure</a> section. Each ACT Rule also contains a plain language description of the type of content under test, the test to perform, and the expected result.  Where the test result affects conformance, the rule documents the particular requirement being tested. The resulting outcomes from the test can be used to help determine conformance or non-conformance to the requirement. Test cases are also written as part of the ACT rule to provide a way to verify that implementations of the rule can successfully determine the expected outcomes.</p>[m
[32m+[m[32m   <h2 class="heading settled" data-level="2" id="scope"><span class="secno">2. </span><span class="content">Scope</span><a class="self-link" href="#scope"></a></h2>[m
[32m+[m[32m   <p>The ACT Rules Format defined in this specification is designed for rules that can be used in testing content created using web technologies, such as <a href="https://www.w3.org/TR/html/">Hypertext Markup Language</a> <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>, <a href="https://www.w3.org/TR/CSS/">Cascading Style Sheets</a> <a data-link-type="biblio" href="#biblio-css-2018" title="CSS Snapshot 2018">[css-2018]</a>, <a href="https://www.w3.org/WAI/standards-guidelines/aria/">Accessible Rich Internet Applications</a> <a data-link-type="biblio" href="#biblio-wai-aria" title="Accessible Rich Internet Applications (WAI-ARIA) 1.0">[WAI-ARIA]</a>, <a href="https://www.w3.org/TR/SVG/">Scalable Vector Graphics</a> <a data-link-type="biblio" href="#biblio-svg2" title="Scalable Vector Graphics (SVG) 2">[SVG2]</a>, <a href="httpss://www.idpf.org/">EPUB 3</a> <a data-link-type="biblio" href="#biblio-epub-33" title="EPUB 3.3">[epub-33]</a>, and more. The ACT Rules Format is designed to be technology agnostic, meaning that it can conceivably be used to describe test rules for other technologies.</p>[m
[32m+[m[32m   <p>The ACT Rules Format can be used to describe ACT Rules dedicated to testing the <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘ ">accessibility requirements</a> defined in the Web Content Accessibility Guidelines <a data-link-type="biblio" href="#biblio-wcag22" title="Web Content Accessibility Guidelines (WCAG) 2.2">[WCAG22]</a>, which are specifically designed for web content. Other accessibility requirements applicable to web technologies can also be testable with ACT Rules. For example, ACT Rules could be developed to test the conformance of web-based user agents to the <a href="https://www.w3.org/WAI/standards-guidelines/uaag/">User Agent Accessibility Guidelines</a> <a data-link-type="biblio" href="#biblio-uaag20" title="User Agent Accessibility Guidelines (UAAG) 2.0">[UAAG20]</a>. The ACT Rules Format might not always be suitable to describe tests for other types of accessibility requirements.</p>[m
[32m+[m[32m   <h2 class="heading settled" data-level="3" id="rule-types"><span class="secno">3. </span><span class="content">ACT Rule Types</span><a class="self-link" href="#rule-types"></a></h2>[m
[32m+[m[32m   <p>In accessibility, there are often different technical solutions to make the same type of content accessible. For example, there are multiple methods for giving an <code>img</code> element in HTML an accessible name. Multiple solutions could be tested in a single rule; however, such a rule tends to be quite complex, making it difficult to understand and maintain. The ACT Rules Format solves this by providing two types of rules:</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="atomic-rules">Atomic rules</dfn> describe how to test a specific type of solution. It contains a precise definition of what elements, nodes or other "parts" of a <a data-link-type="dfn" href="#test-subject" id="ref-for-test-subject">test subject</a> are to be tested, and when those test targets are considered to pass or fail the rule. These rules are to be kept small and <em>atomic</em>. This means that atomic rules test a single "condition" and do so without using the <a data-link-type="dfn" href="#outcome" id="ref-for-outcome">outcomes</a> from other rules.</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="composite-rules">Composite rules</dfn> describe how the <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘ ">outcomes</a> of multiple <a data-link-type="dfn" href="#atomic-rules" id="ref-for-atomic-rules">atomic rules</a> can be combined into a single outcome for each <a data-link-type="dfn" href="#test-target" id="ref-for-test-target">test target</a>. A composite rule can have multiple "conditions", each of these tested in a separate atomic rule. The logic in the composite rule describes how any one of these satisfying conditions, or some combination of them, is used to determine a single outcome.</p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <p>Composite rules cannot contain other composite rules. Any time a nested composite rule would be needed, all of the relevant atomic rules can be combined directly into the new composite rule.</p>[m
[32m+[m[32m   <aside class="example" id="example-73f36a1c">[m
[32m+[m[32m    <a class="self-link" href="#example-73f36a1c"></a>[m[41m [m
[32m+[m[32m    <header>Example of using multiple input rules in a composite rule:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>Each HTML <code>video</code> element meets all expectations from at least one of the following rules:</p>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>Video elements have a transcript[m
[32m+[m[32m      <li>Video elements have an audio description[m
[32m+[m[32m      <li>Video elements have a description track[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <p>Not all atomic rules have to be part of a composite rule. Composite rules are used when the <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘¡">outcomes</a> of multiple atomic rules need to be combined to determine if a <a data-link-type="dfn" href="#test-subject" id="ref-for-test-subjectâ‘ ">test subject</a> does not satisfy an <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘¡">accessibility requirement</a>.</p>[m
[32m+[m[32m   <p>The separation between atomic rules and composite rules creates a division of responsibilities. Atomic rules test if web content is correctly implemented in a particular solution. Composite rules can test if a combination of <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘¢">outcomes</a> from other atomic rules satisfy the accessibility requirement, in part or as a whole.</p>[m
[32m+[m[32m   <h2 class="heading settled" data-level="4" id="act-rule-structure"><span class="secno">4. </span><span class="content">ACT Rule Structure</span><a class="self-link" href="#act-rule-structure"></a></h2>[m
[32m+[m[32m   <p>An ACT Rule <em class="rfc2119">must</em> consist of at least the following items:</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="descriptive-title">Descriptive Title</dfn></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#rule-identifier">Rule Identifier</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#rule-description">Rule Description</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#rule-type">Rule Type</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#accessibility-requirements-mapping">Accessibility Requirements Mapping</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#input">Rule Input</a>, which is one of the following:</p>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p><a href="#input-aspects">Input Aspects</a> (for atomic rules) OR</p>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p><a href="#input-rules">Input Rules</a> (for composite rules)</p>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#applicability">Applicability</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#expectations">Expectations</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#background">Background</a></p>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p><a href="#assumptions">Assumptions</a></p>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p><a href="#accessibility-support">Accessibility Support</a></p>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p><a href="#related-rules">Related Rules (optional)</a></p>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p><a href="#other-resources">Other Resources (optional)</a></p>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#test-cases">Test Cases</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#rule-versions">Rule Versions</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#act-rules-format-version">ACT Rules Format Version</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#glossary">Glossary</a></p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <p>An ACT Rule MAY also contain:</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#related-rules">Related Rules</a> (optional) under Background</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#other-resources">Other Resources</a> (optional) under Background</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#issues-list">Issues List</a> (optional)</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#implementations">Implementations</a> (optional)</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#acknowledgments">Acknowledgments</a> (optional)</p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <p>The ACT Rules format does not prescribe what format ACT Rules can be written in (e.g. HTML, DOCX, PDF, etc.). However, ACT Rules <em class="rfc2119">must</em> be written in a document that conforms to the Web Content Accessibility Guidelines <a data-link-type="biblio" href="#biblio-wcag22" title="Web Content Accessibility Guidelines (WCAG) 2.2">[WCAG22]</a> or a comparable accessibility standard. This ensures that ACT Rules are accessible to people with disabilities. ACT Rule <a href="#test-cases">test cases</a> are allowed to contain inaccessible content. If any test case contains accessibility issues listed in <a href="https://www.w3.org/TR/WCAG22/#cc5">WCAG 2.2 Section 5.2.5 Non-Interference</a>, users <em class="rfc2119">must</em> be warned of this in advance. ACT Rules SHOULD use a <a data-link-type="dfn" href="https://w3c.github.io/i18n-glossary/#dfn-localisation" id="ref-for-dfn-localisation">localizable</a> format, such that a rule can contain multiple language representations or so that translations of the rule can be created.</p>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.1" id="rule-identifier"><span class="secno">4.1. </span><span class="content">Rule Identifier</span><a class="self-link" href="#rule-identifier"></a></h3>[m
[32m+[m[32m   <p>An ACT Rule <em class="rfc2119">must</em> have an unique identifier. The identifier can be any text, such as plain text, URL, or a database identifier.</p>[m
[32m+[m[32m   <p>Determining whether an identifier is unique can be achieved by using lowercase ASCII characters or other unambiguous method. For a detailed explanation, see <a href="https://www.w3.org/TR/charmod-norm/">â€˜Character Model for the World Wide Web: String Matchingâ€™</a></p>[m
[32m+[m[32m   <aside class="example" id="example-8adf6793">[m
[32m+[m[32m    <a class="self-link" href="#example-8adf6793"></a>[m[41m [m
[32m+[m[32m    <header>Example of identifiers that are also used as filenames; They include a technology directory, followed by a handle that includes an element name or attribute:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>html+svg/video-alternative[m
[32m+[m[32m      <li>html+svg/meta-no-refresh[m
[32m+[m[32m      <li>html+svg/unique-id[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <p>In addition to the identifier, each new release of an ACT Rule <em class="rfc2119">must</em> be versioned with either a date or a number. A reference to the previous version of that rule <em class="rfc2119">must</em> be available. The identifier <em class="rfc2119">must not</em> be changed when the rule is updated. For substantial changes, a new rule <em class="rfc2119">should</em> be created with a new identifier, and the old rule <em class="rfc2119">should</em> be deprecated.</p>[m
[32m+[m[32m   <aside class="example" id="example-c6a27e25">[m
[32m+[m[32m    <a class="self-link" href="#example-c6a27e25"></a>[m[41m [m
[32m+[m[32m    <header>Example situation of updating a rule:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>When updating a rule that is about buttons, to now also be about links, menu items and tabs, the buttons rule is deprecated. As a replacement, a new rule is created that is applicable to all those elements.</p>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.2" id="rule-description"><span class="secno">4.2. </span><span class="content">Rule Description</span><a class="self-link" href="#rule-description"></a></h3>[m
[32m+[m[32m   <p>An ACT Rule <em class="rfc2119">must</em> have a description that is in plain language which provides a brief explanation of what the rule does.</p>[m
[32m+[m[32m   <aside class="example" id="example-5275cb2a">[m
[32m+[m[32m    <a class="self-link" href="#example-5275cb2a"></a>[m[41m [m
[32m+[m[32m    <header>Example of a rule description:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>This rule checks that the HTML page has a title</p>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.3" id="rule-type"><span class="secno">4.3. </span><span class="content">Rule Type</span><a class="self-link" href="#rule-type"></a></h3>[m
[32m+[m[32m   <p>An ACT Rule <em class="rfc2119">must</em> have a rule type which is one of the following:</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li>Atomic rule[m
[32m+[m[32m    <li>Composite rule[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <p>Refer to the <a href="#rule-types">Rule Type</a> section for detailed definitions of the rule types.</p>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.4" id="accessibility-requirements-mapping"><span class="secno">4.4. </span><span class="content">Accessibility Requirements Mapping</span><a class="self-link" href="#accessibility-requirements-mapping"></a></h3>[m
[32m+[m[32m   <p>When an ACT Rule is designed to test conformance to one or more <a data-link-type="dfn" href="#accessibility-requirements-document" id="ref-for-accessibility-requirements-documentâ‘ ">Accessibility requirements documents</a>, the rule <em class="rfc2119">must</em> list all <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘¢">accessibility requirements</a> from those documents that are not satisfied when one or more of the <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘£">outcomes</a> of the rule is <code>failed</code>. The rule <em class="rfc2119">may</em> list accessibility requirements that could be not satisfied when the rule outcome is failed. There are two types of accessibility requirements:</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#conformance-requirements">Conformance Requirements</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#secondary-requirements">Secondary Requirements</a></p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <p>Each <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘£">accessibility requirement</a> in the mapping <em class="rfc2119">must</em> include the following:</p>[m
[32m+[m[32m   <ol>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>either the name, title, identifier or summary of the accessibility requirement, and</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>the name of the <a data-link-type="dfn" href="#accessibility-requirements-document" id="ref-for-accessibility-requirements-documentâ‘¡">accessibility requirements document</a>, and</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>a link or reference to the <a data-link-type="dfn" href="#accessibility-requirements-document" id="ref-for-accessibility-requirements-documentâ‘¢">accessibility requirements document</a> if one exists, and</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>the conformance level associated with the accessibility requirement, if one exists, and</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>whether the requirement is a conformance requirement or a secondary requirement.</p>[m
[32m+[m[32m   </ol>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.4.1" id="outcome-mapping"><span class="secno">4.4.1. </span><span class="content">Outcome Mapping</span><a class="self-link" href="#outcome-mapping"></a></h4>[m
[32m+[m[32m    For each conformance requirement in the mapping, an ACT Rule <em class="rfc2119">must</em> indicate what the <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘¤">outcomes</a> of the rule mean for satisfying an accessibility requirement for that <a data-link-type="dfn" href="#test-subject" id="ref-for-test-subjectâ‘¡">test subject</a>.[m[41m [m
[32m+[m[32m   <h5 class="heading settled" data-level="4.4.1.1" id="conformance-requirements"><span class="secno">4.4.1.1. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="conformance-requirementsâ‘ ">Conformance Requirements</dfn></span><a class="self-link" href="#conformance-requirements"></a></h5>[m
[32m+[m[32m   <p>When a rule is designed to test a specific accessibility requirement, the accessibility requirement is mapped as a Conformance Requirement when both of the following conditions are true:</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Failed Outcomes: When one or more of the outcomes for a test subject is <code>failed</code>, the accessibility requirement is <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="not-satisfied">not satisfied</dfn> for the test subject, and</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Passed or Inapplicable Outcomes: When all of the outcomes are <code>passed</code> or <code>inapplicable</code> for a test subject, the accessibility requirement could be <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="satisfied">satisfied</dfn> or <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="further-testing-is-needed">further testing is needed</dfn> for the test subject.</p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <p>Rules that can be used to determine if an accessibility requirement is <em>satisfied</em> are called <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="satisfying-tests">satisfying tests</dfn>.</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Passed: When all of the outcomes are <code>passed</code>, the accessibility requirement is <a data-link-type="dfn" href="#satisfied" id="ref-for-satisfied">satisfied</a> for the test subject.</p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <div class="note" role="note">[m
[32m+[m[32m    <p><strong>Note:</strong> In the <a href="https://www.w3.org/WAI/standards-guidelines/wcag/">Web Content Accessibility Guidelines</a> <a data-link-type="biblio" href="#biblio-wcag22" title="Web Content Accessibility Guidelines (WCAG) 2.2">[WCAG22]</a>, success criteria do not evaluate to <code>passed</code>, <code>failed</code> or <code>inapplicable</code>. Rather they can be <em>satisfied</em> (or not). (See the <a href="https://www.w3.org/TR/WCAG22/#dfn-satisfies">WCAG 2.2 definition: satisfies a success criterion</a>.) If a success criterion is <em>not satisfied</em>, a web page can only conform if there is a conforming alternative version, as described in <a href="https://www.w3.org/TR/WCAG22/#cc1">WCAG 2.2 Conformance Requirement 1</a>.</p>[m
[32m+[m[32m   </div>[m
[32m+[m[32m   <aside class="example" id="example-e101bc5a">[m
[32m+[m[32m    <a class="self-link" href="#example-e101bc5a"></a>[m[41m [m
[32m+[m[32m    <header>Example accessibility requirements mapping for a rule that was designed to test if an image button has an accessible name maps success criteria 1.1.1 Non-text content and 4.1.2 Name, Role, Value as conformance requirements:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>[m
[32m+[m[32m        <a href="https://www.w3.org/TR/WCAG22/#non-text-content">Success criterion 1.1.1: Non-text content</a>[m[41m [m
[32m+[m[32m       <ul>[m
[32m+[m[32m        <li><strong>Required for conformance</strong> to WCAG 2.0, 2.1, and 2.2 level A and higher[m
[32m+[m[32m        <li>[m
[32m+[m[32m         Outcome mapping:[m[41m [m
[32m+[m[32m         <ul>[m
[32m+[m[32m          <li>Any <code>failed</code> outcomes: not satisfied[m
[32m+[m[32m          <li>All <code>passed</code> outcomes: further testing is needed[m
[32m+[m[32m          <li>An <code>inapplicable</code> outcome: further testing is needed[m
[32m+[m[32m         </ul>[m
[32m+[m[32m       </ul>[m
[32m+[m[32m      <li>[m
[32m+[m[32m        <a href="https://www.w3.org/TR/WCAG22/#name-role-value">Success criterion 4.1.2: Name, Role, Value</a>[m[41m [m
[32m+[m[32m       <ul>[m
[32m+[m[32m        <li><strong>Required for conformance</strong> to WCAG 2.0, 2.1, and 2.2 level A and higher[m
[32m+[m[32m        <li>[m
[32m+[m[32m         Outcome mapping:[m
[32m+[m[32m         <ul>[m
[32m+[m[32m          <li>Any <code>failed</code> outcomes: not satisfied[m
[32m+[m[32m          <li>All <code>passed</code> outcomes: further testing is needed[m
[32m+[m[32m          <li>An <code>inapplicable</code> outcome: further testing is needed[m
[32m+[m[32m         </ul>[m
[32m+[m[32m       </ul>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <h5 class="heading settled" data-level="4.4.1.2" id="secondary-requirements"><span class="secno">4.4.1.2. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="secondary-requirementsâ‘ ">Secondary Requirements</dfn></span><a class="self-link" href="#secondary-requirements"></a></h5>[m
[32m+[m[32m   <p>A secondary accessibility requirement is a requirement that is correlated with the rule, but for which the rule is not designed to test. The outcome of the rule impacts the result of the accessibility requirement, but the rule is not intended to test the conformance of that requirement. This correlation often results in some of the ruleâ€™s test cases not satisfying the secondary accessibility requirement.</p>[m
[32m+[m[32m   <p>When the rule is not designed to test the accessibility requirement, or failed outcomes of the rule still require further testing for the accessibility requirement, the rule <em class="rfc2119">may</em> map the accessibility requirement as Secondary. When an ACT rule maps to a Secondary requirement, it <em class="rfc2119">must</em> include an explanation of why that requirement is Secondary in the rule.</p>[m
[32m+[m[32m   <p>When the rule is designed to test an accessibility requirement, differences in <a href="#accessibility-support">accessibility support</a> <em class="rfc2119">must not</em> be a reason for that requirement to be a secondary accessibility requirement.</p>[m
[32m+[m[32m   <p>Some scenarios when a rule will have Secondary requirements include:</p>[m
[32m+[m[32m   <p><strong>Scenario 1</strong>: the rule is not as strict as a requirement</p>[m
[32m+[m[32m   <p>A rule was designed to test a minimum accessibility requirement and there exists a stricter requirement. The ruleâ€™s failed outcomes can determine that the stricter accessibility requirement is not satisfied, and the ruleâ€™s passed outcomes may not determine that the stricter requirement is satisfied. It is possible that the accessibility requirement may be not satisfied when the ruleâ€™s outcomes are passed. The stricter requirement is a Secondary requirement.</p>[m
[32m+[m[32m   <aside class="example" id="example-99498c9e">[m
[32m+[m[32m    <a class="self-link" href="#example-99498c9e"></a>[m[41m [m
[32m+[m[32m    <header>Example: a rule that tests if text has minimum contrast</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     This rule was designed to test Success Criterion 1.4.3 Contrast Minimum (AA). A stricter requirement, Success Criterion 1.4.6 Contrast (Enhanced) (Level AAA), will be not satisfied when the rule outcome is failed, and may be not satisfied when the rule outcomes are passed. This ruleâ€™s mapping:[m[41m [m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>Conformance Requirement: Success Criterion 1.4.3 Contrast (Minimum)[m
[32m+[m[32m      <li>Secondary Requirement: Success Criterion 1.4.6 Contrast (Enhanced)[m
[32m+[m[32m      <ul>[m
[32m+[m[32m       <li>Explanation: This success criterion is <strong>more strict</strong> than this rule. This is because this criterion has a higher minimum contrast. Some of the passed examples do not satisfy this success criterion.[m
[32m+[m[32m      </ul>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <p><strong>Scenario 2</strong>: the rule is stricter than a requirement</p>[m
[32m+[m[32m   <p>A rule was designed to test a specific solution for an accessibility requirement, but the requirement can be satisfied by other solutions that are not included in the rule. In this scenario, the ruleâ€™s failed outcomes cannot determine that an accessibility requirement is not satisfied because further testing is needed. The ruleâ€™s passed outcomes can determine that an accessibility requirement is satisfied. The accessibility requirement is a secondary requirement.</p>[m
[32m+[m[32m   <aside class="example" id="example-9c026a7f">[m
[32m+[m[32m    <a class="self-link" href="#example-9c026a7f"></a>[m[41m [m
[32m+[m[32m    <header>Example: a rule that tests if a focusable element has no keyboard trap via standard navigation</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     This rule was designed to test for a specific solution that can be used to meet Success Criterion 2.1.2: No Keyboard Trap. The rule does not test for the use of other possible solutions, such as non-standard navigation, that can satisfy the success criterion. Its failed outcomes cannot determine that the accessibility requirement is <a data-link-type="dfn" href="#not-satisfied" id="ref-for-not-satisfied">not satisfied</a>. This ruleâ€™s mapping:[m[41m [m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>Secondary Requirement: Success Criterion 2.1.2: No Keyboard Trap[m
[32m+[m[32m      <ul>[m
[32m+[m[32m       <li>Explanation: This success criterion is <strong>less strict</strong> than this rule. This is because this criterion allows for the use of non-standard keyboard navigation to exit a keyboard trap. Some of the failed examples may satisfy this success criterion.[m
[32m+[m[32m      </ul>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <p>A rule was designed to test an accessibility requirement and there exists a less strict accessibility requirement. In this scenario, the ruleâ€™s passed outcomes can determine that the less strict requirement is satisfied, and the ruleâ€™s failed outcomes may not determine that the less strict requirement is not satisfied. It is possible that the accessibility requirement may be satisfied when the ruleâ€™s outcome is failed. The less strict accessibility requirement is a secondary requirement.</p>[m
[32m+[m[32m   <aside class="example" id="example-66ff2871">[m
[32m+[m[32m    <a class="self-link" href="#example-66ff2871"></a>[m[41m [m
[32m+[m[32m    <header>Example: a rule that tests Enhanced Contrast</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     This rule was designed to test Success Criterion 1.4.6 Contrast (Enhanced) (Level AAA). A less strict requirement, Success Criterion 1.4.3 Contrast Minimum (AA), will be satisfied when the rule outcomes are passed, and may be satisfied when the rule outcomes are failed. This ruleâ€™s mapping:[m[41m [m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>Conformance Requirement: Success Criterion 1.4.6 Contrast (Enhanced)[m
[32m+[m[32m      <li>Secondary Requirement: Success Criterion 1.4.3 Contrast (Minimum)[m
[32m+[m[32m      <ul>[m
[32m+[m[32m       <li>Explanation: This success criterion is <strong>less strict</strong> than this rule. This is because this criterion has a lower minimum contrast. Some of the failed examples may satisfy this success criterion.[m
[32m+[m[32m      </ul>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <p><strong>Scenario 3</strong>: the rule may impact the result of the accessibility requirement, but the rule is not intended to test the conformance of that requirement</p>[m
[32m+[m[32m   <p>A rule was designed to test an accessibility requirement and under certain conditions, other accessibility requirements apply. In this scenario, the other accessibility requirements are sometimes, but not always, satisfied or not satisfied because they are not always applicable in the rule. These other accessibility requirements are secondary requirements.</p>[m
[32m+[m[32m   <aside class="example" id="example-baa35e9f">[m
[32m+[m[32m    <a class="self-link" href="#example-baa35e9f"></a>[m[41m [m
[32m+[m[32m    <header>Example 1: a rule that tests if a link has a non-empty accessible name</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     This rule was designed to test links for accessibility requirements 4.1.2 Name, Role, Value (Level A), 2.4.4 Link Purpose (In Context) (Level A), 2.4.9 Link Purpose (Link Only) (Level AAA). In an image map, &lt;area> elements that define regions within the map are both links and images. Testing for non-empty accessible name for &lt;area> elements would map to another accessibility requirement 1.1.1 Non-text Content. Because the rule tests for all links and Success Criterion 1.1.1 only applies certain links, this ruleâ€™s mapping:[m[41m [m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>Conformance Requirement: Success Criteria 4.1.2 Name, Role, Value (Level A), 2.4.4 Link Purpose (In Context) (Level A), 2.4.9 Link Purpose (Link Only) (Level AAA)[m
[32m+[m[32m      <li>Secondary Requirement: Success Criterion 1.1.1 Non-text Content[m
[32m+[m[32m      <ul>[m
[32m+[m[32m       <li>Explanation: This success criterion is <strong>related</strong> to this rule. This is because HTML &lt;area> elements are both links and non-text content. Most failed examples satisfy this success criterion.[m[41m [m
[32m+[m[32m      </ul>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <aside class="example" id="example-cfb70282">[m
[32m+[m[32m    <a class="self-link" href="#example-cfb70282"></a>[m[41m [m
[32m+[m[32m    <header>Example 2: A rule that tests that elements that have an explicit role also specify all required states and properties </header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     This rule was designed to test a requirement of WAI-ARIA. In some cases, a failed outcome for this rule may result in WCAG 2 Success Criterion 4.1.2 Name, Role, Value being not satisfied, but not always. This ruleâ€™s mapping:[m[41m [m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>Conformance Requirement: WAI-ARIA 1.2[m
[32m+[m[32m      <li>[m
[32m+[m[32m       Secondary Requirement: Success Criterion 4.1.2 Name, Role, Value[m[41m [m
[32m+[m[32m       <ul>[m
[32m+[m[32m        <li>Background Section: Success Criterion 4.1.2 Name, Role, Value is mapped as a Secondary requirement because it only applies to user controls.[m[41m [m
[32m+[m[32m       </ul>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.4.2" id="mapping-outside-wcag"><span class="secno">4.4.2. </span><span class="content">Mapping Outside WCAG</span><a class="self-link" href="#mapping-outside-wcag"></a></h4>[m
[32m+[m[32m   <p>ACT Rules can be used to test accessibility requirements that are not part of a W3C accessibility standard, such as accessibility requirements in <a href="https://www.w3.org/TR/html/">Hypertext Markup Language</a> <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>, or tests in a methodology like <a href="https://disic.github.io/rgaa_referentiel_en/criteria.html">RGAA 3 2016</a>. An ACT Rule <em class="rfc2119">must</em> indicate whether or not the <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘¤">accessibility requirement</a> it maps to is required for conformance in its <a data-link-type="dfn" href="#accessibility-requirements-document" id="ref-for-accessibility-requirements-documentâ‘£">accessibility requirements document</a>. Examples of accessibility requirements that are not required for conformance are WCAG sufficient techniques, or a company style guide that includes both requirements and optional "best practices". The distinction between what is required and what is optional has to be clear.</p>[m
[32m+[m[32m   <aside class="example" id="example-341c15ad">[m
[32m+[m[32m    <a class="self-link" href="#example-341c15ad"></a>[m[41m [m
[32m+[m[32m    <header>Example accessibility requirements mapping for a rule that tests that each <code>img</code> element has an <code>alt</code> attribute:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>[m
[32m+[m[32m        <a href="https://www.w3.org/TR/WCAG20-TECHS/H37.html">Technique H37: Using alt attributes on img elements</a>[m[41m [m
[32m+[m[32m       <ul>[m
[32m+[m[32m        <li><strong>Not required</strong> for conformance to WCAG 2.0, 2.1, and 2.2 at any level[m
[32m+[m[32m        <li>[m
[32m+[m[32m         Outcome mapping:[m[41m [m
[32m+[m[32m         <ul>[m
[32m+[m[32m          <li>Any <code>failed</code> outcomes: not satisfied[m
[32m+[m[32m          <li>All <code>passed</code> outcomes: satisfied[m
[32m+[m[32m          <li>An <code>inapplicable</code> outcome: satisfied[m
[32m+[m[32m         </ul>[m
[32m+[m[32m       </ul>[m
[32m+[m[32m      <li>[m
[32m+[m[32m        <a href="https://disic.github.io/rgaa_referentiel_en/criteria.html#test-1-1-1">RGAA 3, Test 1.1.1: Does each image have a text alternative</a>[m[41m [m
[32m+[m[32m       <ul>[m
[32m+[m[32m        <li><strong>Required for conformance</strong> to RGAA 3 level A and higher[m
[32m+[m[32m        <li>[m
[32m+[m[32m         Outcome mapping:[m[41m [m
[32m+[m[32m         <ul>[m
[32m+[m[32m          <li>Any <code>failed</code> outcomes: not satisfied[m
[32m+[m[32m          <li>All <code>passed</code> outcomes: satisfied[m
[32m+[m[32m          <li>An <code>inapplicable</code> outcome: satisfied[m
[32m+[m[32m         </ul>[m
[32m+[m[32m       </ul>[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.4.3" id="rules-without-accessibility-requirements"><span class="secno">4.4.3. </span><span class="content">Rules Without Accessibility Requirements</span><a class="self-link" href="#rules-without-accessibility-requirements"></a></h4>[m
[32m+[m[32m   <p>If the rule does not map to any <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘¥">accessibility requirement</a>, the accessibility requirement mapping will only contain the explainer that it is not required for conformance to the <a data-link-type="dfn" href="#accessibility-requirements-document" id="ref-for-accessibility-requirements-documentâ‘¤">accessibility requirements document</a>. This is common with atomic rules used in composite rules.</p>[m
[32m+[m[32m   <aside class="example" id="example-e22fa6d9">[m
[32m+[m[32m    <a class="self-link" href="#example-e22fa6d9"></a>[m[41m [m
[32m+[m[32m    <header>Example of a rule that tests if <code>role=alert</code> is used to satisfy <a href="https://www.w3.org/TR/WCAG22/#status-messages">WCAG 2.2 success criterion 4.1.3 Status Messages</a>:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>This rule is <strong>not required</strong> for conformance to WCAG 2.2 at any level.</p>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <p>If the <code>failed</code> <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘¥">outcome</a> cannot be mapped to an <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘¦">accessibility requirement</a>, there <em class="rfc2119">must not</em> be an accessibility requirement in the accessibility requirements mapping. The optional <a href="#background">Background section</a> could be used to list <a data-link-type="dfn" href="#accessibility-requirements-document" id="ref-for-accessibility-requirements-documentâ‘¥">accessibility requirements documents</a> when they are thematically related, but for which the rule is not a failure test.</p>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.4.4" id="external-accessibility-requirements-mapping"><span class="secno">4.4.4. </span><span class="content">External Accessibility Requirements Mapping</span><a class="self-link" href="#external-accessibility-requirements-mapping"></a></h4>[m
[32m+[m[32m   <p>This section is <em>non-normative</em>.</p>[m
[32m+[m[32m   <p>While rules are often designed for one, or possibly a small collection of <a data-link-type="dfn" href="#accessibility-requirements-document" id="ref-for-accessibility-requirements-documentâ‘¦">accessibility requirements documents</a>, it is likely that other accessibility requirements documents also map to those ACT Rules. For example, rules can be written for the <a href="https://www.w3.org/WAI/standards-guidelines/wcag/">Web Content Accessibility Guidelines</a> <a data-link-type="biblio" href="#biblio-wcag22" title="Web Content Accessibility Guidelines (WCAG) 2.2">[WCAG22]</a>, but many of those could also map to a companyâ€™s internal accessibility policy. In such a scenario, an external accessibility requirements mapping could be created. An external accessibility requirements mapping amends the accessibility requirements mapping of an ACT rule by adding mapping to a different accessibility requirements document. An external accessibility requirements mapping avoids duplication of a rule for the sole purpose of changing the mapping.</p>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.5" id="input"><span class="secno">4.5. </span><span class="content">Rule Input</span><a class="self-link" href="#input"></a></h3>[m
[32m+[m[32m   <p>To evaluate content using an ACT Rule, the rule requires some information from the <a data-link-type="dfn" href="#test-subject" id="ref-for-test-subjectâ‘¢">test subject</a>. This is the input for the rule. What input is required is made explicit, to help testers understand what capabilities are required to use a rule. <a data-link-type="dfn" href="#atomic-rules" id="ref-for-atomic-rulesâ‘ ">Atomic rules</a> and <a data-link-type="dfn" href="#composite-rules" id="ref-for-composite-rules">composite rules</a> have different input.</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Atomic rules have <a href="#input-aspects">Input Aspects</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Composite rules have <a href="#input-rules">Input Rules</a></p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.5.1" id="input-aspects"><span class="secno">4.5.1. </span><span class="content">Input Aspects (Atomic rules only)</span><a class="self-link" href="#input-aspects"></a></h4>[m
[32m+[m[32m   <p>An input aspect is a distinct part of the <a data-link-type="dfn" href="#test-subject" id="ref-for-test-subjectâ‘£">test subject</a>. Rendering a particular piece of content to an end user commonly involves different technologies, some or all of which are required as input for an <a data-link-type="dfn" href="#atomic-rules" id="ref-for-atomic-rulesâ‘¡">atomic rule</a>. For example, some rules need to operate directly on the <a href="https://datatracker.ietf.org/doc/html/rfc7230">Hypertext Transfer Protocol</a> <a data-link-type="biblio" href="#biblio-http11" title="HTTP/1.1">[http11]</a> messages exchanged between a server and a client, while others need to operate on the <a href="https://dom.spec.whatwg.org">Document Object Model</a> <a data-link-type="biblio" href="#biblio-dom" title="DOM Standard">[DOM]</a> tree exposed by a web browser.</p>[m
[32m+[m[32m   <p><a data-link-type="dfn" href="#atomic-rules" id="ref-for-atomic-rulesâ‘¢">Atomic rules</a> <em class="rfc2119">must</em> list the aspects used as input for the <a href="#applicability-atomic">applicability</a> and <a href="#expectations-atomic">expectations</a> of the atomic rule. Rules can operate on several aspects simultaneously, such as both the HTTP messages and the DOM tree.</p>[m
[32m+[m[32m   <p>Some input aspects are well defined in a formal specification, such as HTTP messages, the DOM tree, and CSS styling <a data-link-type="biblio" href="#biblio-css-2018" title="CSS Snapshot 2018">[css-2018]</a>. For these, a reference to the corresponding section in the <a href="https://www.w3.org/TR/act-rules-aspects/">Common Input Aspects note</a> is sufficient as a description of the aspect. For input aspects that are not well defined, an ACT Rule <em class="rfc2119">must</em> include either a detailed description of the aspect in question, or a reference to a well defined description.</p>[m
[32m+[m[32m   <aside class="example" id="example-43214b40">[m
[32m+[m[32m    <a class="self-link" href="#example-43214b40"></a>[m[41m [m
[32m+[m[32m    <header>Example input aspects for a rule that checks if a transcript is available for videos:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>DOM Tree[m
[32m+[m[32m      <li>CSS Styling[m
[32m+[m[32m      <li>Audio output[m
[32m+[m[32m      <li>Visual output[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <aside class="example" id="example-22444586">[m
[32m+[m[32m    <a class="self-link" href="#example-22444586"></a>[m[41m [m
[32m+[m[32m    <header>Example input aspects for a rule that checks for use of (language specific) generic link texts like "click here" and "more":</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>DOM Tree[m
[32m+[m[32m      <li>CSS Styling[m
[32m+[m[32m      <li>Language[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <p>The method through which an input aspect is served is not relevant. For example a DOM tree can be served through HTTP as HTML, it can be bundled as several pages in an <a href="http://www.idpf.org/">EPUB publication</a>, or it can be inferred from a <a href="https://facebook.github.io/jsx/">JSX source file</a>. All rules that have only DOM tree as an input aspect can be applied to those technologies.</p>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.5.2" id="input-rules"><span class="secno">4.5.2. </span><span class="content">Input Rules (Composite rules only)</span><a class="self-link" href="#input-rules"></a></h4>[m
[32m+[m[32m   <p>A <a data-link-type="dfn" href="#composite-rules" id="ref-for-composite-rulesâ‘ ">composite rule</a> uses <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘¦">outcomes</a> from <a data-link-type="dfn" href="#atomic-rules" id="ref-for-atomic-rulesâ‘£">atomic rules</a> and applies logic to them so that a single outcome can be determined for each <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘ ">test target</a>. The <a href="#rule-identifier">identifier</a> and <a data-link-type="dfn" href="#descriptive-title" id="ref-for-descriptive-title">descriptive title</a> of all the atomic rules used in the <a href="#expectations-composite">expectations</a> <em class="rfc2119">must</em> be listed in the composite rule. The input rules describe the input for composite rules, similar to how <a href="#input-aspects">input aspects</a> describe the input for atomic rules.</p>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.6" id="applicability"><span class="secno">4.6. </span><span class="content">Applicability</span><a class="self-link" href="#applicability"></a></h3>[m
[32m+[m[32m   <p>The applicability describes what parts of the <a data-link-type="dfn" href="#test-subject" id="ref-for-test-subjectâ‘¤">test subject</a> are tested.</p>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.6.1" id="applicability-atomic"><span class="secno">4.6.1. </span><span class="content">Applicability for Atomic Rules</span><a class="self-link" href="#applicability-atomic"></a></h4>[m
[32m+[m[32m   <p>The applicability section is a required part of an <a data-link-type="dfn" href="#atomic-rules" id="ref-for-atomic-rulesâ‘¤">atomic rule</a>. It <em class="rfc2119">must</em> contain a precise description of the parts of the <a data-link-type="dfn" href="#test-subject" id="ref-for-test-subjectâ‘¥">test subject</a> to which the rule applies. For example, specific nodes in the DOM <a data-link-type="biblio" href="#biblio-dom" title="DOM Standard">[DOM]</a> tree, or tags that are incorrectly closed in an HTML <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> document. These are known as the <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘¡">test targets</a>. The applicability <em class="rfc2119">must</em> only use information made available through the listed <a href="#input-aspects">input aspects</a> in the rule. No other information can be used in the applicability.</p>[m
[32m+[m[32m   <p>Applicability <em class="rfc2119">must</em> be unambiguous so that the applicability can only be understood in one way. For example, concepts like headings and images are ambiguous since they could refer to the tag name, the semantic role, or the elementâ€™s purpose on the web page. Conversely, a rule that specifically only applies to elements with a heading tag would satisfy the unambiguous requirement.</p>[m
[32m+[m[32m   <p>Additionally, the applicability <em class="rfc2119">should</em> be described objectively and in plain language. An objective description is one that can be resolved without uncertainty, in a given technology. Examples of objective properties in HTML are tag names, their computed role, and the distance between two elements.</p>[m
[32m+[m[32m   <p>Subjective properties are concepts like decorative, navigation mechanism, and pre-recorded that may be defined in a variety of ways, often relying on human judgement. When possible, avoid subjectivity since it can easily be misunderstood. In cases where it is impossible to objectively define the applicability, the use of a subjective description in the applicability is acceptable. When crafting a subjective applicability, if possible, split the objective and subjective parts of the applicability into separate rules. This will ensure the designed rule meets the atomic rule requirement of testing a single condition. An example would be testing headings with correct semantic markup in a different rule from those without semantic markup.</p>[m
[32m+[m[32m   <p>Definitions can be put in the rule <a href="#glossary">glossary</a>, or they can be defined in the section where they are used.</p>[m
[32m+[m[32m   <aside class="example" id="example-81a2db62">[m
[32m+[m[32m    <a class="self-link" href="#example-81a2db62"></a>[m[41m [m
[32m+[m[32m    <header>Example objective applicability of an atomic rule testing <a href="https://www.w3.org/WAI/WCAG22/quickref/#audio-control">WCAG 2.2 success criterion 1.4.2 Audio Control</a>:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>Applicability: Each <code>video</code> or <code>audio</code> element with the <code>autoplay</code> attribute, as well as each <code>object</code> element that is used for automatically playing video or audio when the web page loads.</p>[m
[32m+[m[32m     <p>Note: A web page is considered "loaded" when the <code>document.readyState</code> is set to <code>complete</code>.</p>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <aside class="example" id="example-f00856a4">[m
[32m+[m[32m    <a class="self-link" href="#example-f00856a4"></a>[m[41m [m
[32m+[m[32m    <header>Example objective applicability of a rule with the page as a test target</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>Applicability: The rule applies to any page where the document element is an <code>html</code> element, and the <code>html</code> element is rendered in a top-level context (i.e. the <code>html</code> element is not embedded in another page, such as through <code>iframe</code> or <code>object</code> elements). </p>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <aside class="example" id="example-6e6164c4">[m
[32m+[m[32m    <a class="self-link" href="#example-6e6164c4"></a>[m[41m [m
[32m+[m[32m    <header>Example objective applicability of a rule with a DOM attribute as a test target</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>Applicability: The rule applies to any <code>role</code> attribute that is specified on an HTML or SVG element.</p>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <aside class="example" id="example-5213d696">[m
[32m+[m[32m    <a class="self-link" href="#example-5213d696"></a>[m[41m [m
[32m+[m[32m    <header>Example subjective applicability for a rule testing that elements styled as a heading use correct heading markup. This rule applicability cannot be written objectively since "styled as a heading" is subjective and depends on the context of the page.</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>Applicability: The rule applies to any HTML element that is styled as a heading. Elements that are styled as a heading may include features such as a larger font-size than nearby text, bolding or changing of the font, or the use of whitespace or shapes that visually distinguish the element text.</p>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <aside class="example" id="example-8bd9cea1">[m
[32m+[m[32m    <a class="self-link" href="#example-8bd9cea1"></a>[m[41m [m
[32m+[m[32m    <header><strong>Non-conforming Example:</strong>This example demonstrates an applicability that attempts to be subjective, but does not meet the "must be unambiguous" requirement. For example, non-text content could refer to images, interactive elements, or even a text smiling face emoji using a colon and parathesis like ":)". Due to the ambiguity in the applicability it is impossible to tell.</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>Applicability: This rule applies to any non-text content.</p>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <h5 class="heading settled" data-level="4.6.1.1" id="applicability-type-designation-atomic-optional"><span class="secno">4.6.1.1. </span><span class="content">Applicability Type Designation (optional)</span><a class="self-link" href="#applicability-type-designation-atomic-optional"></a></h5>[m
[32m+[m[32m   <p>Rules can optionally include an applicability type identifier signifying whether the rule contains an objective or a subjective applicability. This identifier is intended to benefit rule readers and implementers by clearly stating the rule authorâ€™s intention of the applicability and reducing confusion due to different reader and implementer interpretations.</p>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.6.2" id="applicability-composite"><span class="secno">4.6.2. </span><span class="content">Applicability for Composite Rules</span><a class="self-link" href="#applicability-composite"></a></h4>[m
[32m+[m[32m   <p>The applicability of a composite rule is defined as the union of all applicability definitions from the rules listed in the <a href="#input-rules">input rules</a>. Rule authors <em class="rfc2119">may</em> omit a description of the applicability for composite rules. This can be useful if it is difficult to express the combined applicability in plain language. If the composite rule includes applicability, it <em class="rfc2119">must</em> be the union of all the applicability in the <a href="#input-rules">input rules</a>.</p>[m
[32m+[m[32m   <p>Note that input rules in a composite rule <em class="rfc2119">may</em> have different applicability. Because of this, not every test target applicable within the composite rule is tested by every input rule.</p>[m
[32m+[m[32m   <aside class="example" id="example-5ca938b6">[m
[32m+[m[32m    <a class="self-link" href="#example-5ca938b6"></a>[m[41m [m
[32m+[m[32m    <header>Example of the union of applicability of input rules in a composite rule:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p><strong>Input applicability:</strong></p>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li><strong>Input Rule 1:</strong> All <code>img</code> element <em>with</em> an <code>alt</code> attribute[m
[32m+[m[32m      <li><strong>Input Rule 2:</strong> All <code>img</code> element <em>without</em> an <code>alt</code> attribute[m
[32m+[m[32m     </ul>[m
[32m+[m[32m     <p><strong>Combined applicability:</strong></p>[m
[32m+[m[32m     <p>All <code>img</code> elements.</p>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <h5 class="heading settled" data-level="4.6.2.1" id="applicability-type-designation-composite-optional"><span class="secno">4.6.2.1. </span><span class="content">Applicability Type Designation (optional)</span><a class="self-link" href="#applicability-type-designation-composite-optional"></a></h5>[m
[32m+[m[32m   <p>Composite rules can optionally include an applicability type identifier signifying whether the rule contains an objective or a subjective applicability. The applicability type of a composite rule is calculated as subjective if any of the input rules contain a subjective applicability or objective otherwise.</p>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.7" id="expectations"><span class="secno">4.7. </span><span class="content">Expectations</span><a class="self-link" href="#expectations"></a></h3>[m
[32m+[m[32m   <p>An ACT Rule <em class="rfc2119">must</em> contain one or more expectations. The expectations describe what the requirements are for the <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘¢">test targets</a> derived from the <a href="#applicability">applicability</a>. An expectation is an assertion about a <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘£">test target</a>. When a test target meets all expectations, the test target <code>passed</code> the rule. If the test target does not meet all expectations, the test target <code>failed</code> the rule. If there are no test targets, the <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘§">outcome</a> for the rule is <code>inapplicable</code>.</p>[m
[32m+[m[32m   <p>Each expectation <em class="rfc2119">must</em> be distinct, unambiguous, and be written in plain language.</p>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.7.1" id="expectations-atomic"><span class="secno">4.7.1. </span><span class="content">Expectations for Atomic Rules</span><a class="self-link" href="#expectations-atomic"></a></h4>[m
[32m+[m[32m   <p>All expectations of an <a data-link-type="dfn" href="#atomic-rules" id="ref-for-atomic-rulesâ‘¥">atomic rule</a> <em class="rfc2119">must</em> describe the logic that is used to determine a single <code>passed</code> or <code>failed</code> <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘¨">outcome</a> for a <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘¤">test target</a>. The expectation <em class="rfc2119">must</em> only use information available in the <a href="#input-aspects">input aspects</a>, from the applicability, and other expectations of the same rule. No other information can be used in the expectation. So for instance, an expectation could be "Expectation 1 is true and ...", but it canâ€™t be "Rule XYZ passed and ...". This ensures that atomic rules are encapsulated.</p>[m
[32m+[m[32m   <aside class="example" id="example-6e5a951f">[m
[32m+[m[32m    <a class="self-link" href="#example-6e5a951f"></a>[m[41m [m
[32m+[m[32m    <header>Example expectations of a rule to test for accessible names of HTML <code>input</code> elements:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <ol>[m
[32m+[m[32m      <li>Each HTML <code>input</code> element has an accessible name (as described in <a href="https://www.w3.org/TR/accname-1.1/#mapping_additional_nd_te">Accessible Name and Description: Computation and API Mappings 1.1</a>). <a data-link-type="biblio" href="#biblio-accname-aam-11" title="Accessible Name and Description Computation 1.1">[accname-aam-1.1]</a>[m
[32m+[m[32m      <li>The accessible name describes the purpose of each HTML <code>input</code> element.[m
[32m+[m[32m     </ol>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <aside class="example" id="example-7aacb8b3">[m
[32m+[m[32m    <a class="self-link" href="#example-7aacb8b3"></a>[m[41m [m
[32m+[m[32m    <header>Example expectation of a rule to test if a <code>role</code> attribute is valid:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <ol>[m
[32m+[m[32m      <li>Each <code>role</code> attribute has a value that corresponds to a non-abstract <a href="https://www.w3.org/TR/wai-aria/">WAI-ARIA 1.2</a> role.[m
[32m+[m[32m     </ol>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <div class="note" role="note">[m
[32m+[m[32m    <p><strong>Note:</strong> Sometimes there is the need for rules with more complex aggregation, for example that X% of all images on a web page are expected to have text alternatives. In this case, the page itself needs to become the test target. The expectation would then be "The test target (the page) has a text alternative for X% of all img elements". The logic for calculating the expectations in such rules is left to the implementations, to avoid over-complexity of this rules format.</p>[m
[32m+[m[32m   </div>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.7.2" id="expectations-composite"><span class="secno">4.7.2. </span><span class="content">Expectations for Composite Rules</span><a class="self-link" href="#expectations-composite"></a></h4>[m
[32m+[m[32m   <p>All expectations of a <a data-link-type="dfn" href="#composite-rules" id="ref-for-composite-rulesâ‘¡">composite rule</a> <em class="rfc2119">must</em> describe the logic that is used to determine a single <code>passed</code> or <code>failed</code> <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘ â“ª">outcome</a> for a <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘¥">test target</a>, based on the outcomes of rules in its <a href="#input-rules">input rules</a>. A composite rule expectation <em class="rfc2119">must not</em> use information from <a href="#input-aspects">input aspects</a>. The outcome for a composite rule is <code>inapplicable</code> when all input rules are inapplicable.</p>[m
[32m+[m[32m   <aside class="example" id="example-a1dcfe4c">[m
[32m+[m[32m    <a class="self-link" href="#example-a1dcfe4c"></a>[m[41m [m
[32m+[m[32m    <header>Example expectations for the composite rule 'video elements have an audio description or media alternative' (<a href="https://www.w3.org/WAI/WCAG22/quickref/#audio-description-or-media-alternative-prerecorded">WCAG 2.2 success criterion 1.2.3 Audio Description or Media Alternative</a>):</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>Each HTML <code>video</code> element meets all expectations from at least one of the following rules:</p>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>video elements have a transcript[m
[32m+[m[32m      <li>video elements have an audio description[m
[32m+[m[32m      <li>video elements have a description track[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <aside class="example" id="example-b218f8a4">[m
[32m+[m[32m    <a class="self-link" href="#example-b218f8a4"></a>[m[41m [m
[32m+[m[32m    <header>Example expectations for a composite rule that checks if a mechanism is available to escape a keyboard trap; Either through a standard mechanism, or one for which instructions are available:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>For each focusable element, the outcome of one of the following rules is <code>passed</code>:</p>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>Keyboard trap with standard escape mechanism[m
[32m+[m[32m      <li>Keyboard trap with escape instructions[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.8" id="background"><span class="secno">4.8. </span><span class="content">Background</span><a class="self-link" href="#background"></a></h3>[m
[32m+[m[32m   <p>An ACT Ruleâ€™s Background <em class="rfc2119">must</em> contain the Assumptions and Accessibility Support sections. Additional information <em class="rfc2119">may</em> be included about the development of the rule, or references to relevant reading in Other Resources, or Related Rules. Whenever a reference is included in the rule, the relationship to the relevant reading can be specified. Examples of relevant background references for a rule for a <a href="https://www.w3.org/WAI/standards-guidelines/wcag/">Web Content Accessibility Guidelines</a> <a data-link-type="biblio" href="#biblio-wcag22" title="Web Content Accessibility Guidelines (WCAG) 2.2">[WCAG22]</a> success criterion could be <a href="https://www.w3.org/WAI/WCAG22/Understanding/">WCAG 2.2 Understanding documents</a>, <a href="https://www.w3.org/WAI/WCAG22/Techniques/">WCAG 2.2 Techniques</a>, or <a href="https://www.w3.org/TR/wai-aria/">WAI-ARIA 1.2</a>, CSS <a data-link-type="biblio" href="#biblio-css-2018" title="CSS Snapshot 2018">[css-2018]</a>, or HTML <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> specifications.</p>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.8.1" id="assumptions"><span class="secno">4.8.1. </span><span class="content">Assumptions</span><a class="self-link" href="#assumptions"></a></h4>[m
[32m+[m[32m   <p>An ACT Rule <em class="rfc2119">must</em> list any known assumptions, limitations or any exceptions for the evaluation, the test environment, technologies being used or the subject being tested. For example, a rule that would partially test <a href="https://www.w3.org/WAI/WCAG22/quickref/#contrast-minimum">WCAG 2.2 success criterion 1.4.3 Contrast (Minimum)</a> based on the inspection of CSS properties could state that it is only applicable to HTML text content styleable with CSS, and that the rule does not support images of text.</p>[m
[32m+[m[32m   <p>Sometimes there are multiple plausible ways that an accessibility requirement can be interpreted. For instance, it is not immediately obvious if emoji characters are "text" or "non-text content" in the <a href="https://www.w3.org/WAI/standards-guidelines/wcag/">Web Content Accessibility Guidelines</a> <a data-link-type="biblio" href="#biblio-wcag22" title="Web Content Accessibility Guidelines (WCAG) 2.2">[WCAG22]</a>. Whatever the interpretation is, this <em class="rfc2119">must</em> be documented in the rule.</p>[m
[32m+[m[32m   <p>While the assumptions <em class="rfc2119">must</em> be included in the ACT Rule, it <em class="rfc2119">may</em> be empty when there are no known assumptions, limitations or exceptions.</p>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.8.2" id="accessibility-support"><span class="secno">4.8.2. </span><span class="content">Accessibility Support</span><a class="self-link" href="#accessibility-support"></a></h4>[m
[32m+[m[32m   <p>Content can be designed to rely on the support for particular accessibility features by different assistive technologies and user agents. For example, content using a particular <a href="https://www.w3.org/TR/wai-aria/">WAI-ARIA 1.2</a> feature relies on that feature to be supported by assistive technologies and user agents. This content would not work for assistive technologies and user agents that do not support WAI-ARIA. See the WCAG definition for <a href="https://www.w3.org/TR/WCAG22/#dfn-accessibility-supported">accessibility supported</a> use of a web technology.</p>[m
[32m+[m[32m   <p>An ACT Rule <em class="rfc2119">must</em> include known limitations on accessibility support.</p>[m
[32m+[m[32m   <aside class="example" id="example-90a74aef">[m
[32m+[m[32m    <a class="self-link" href="#example-90a74aef"></a>[m[41m [m
[32m+[m[32m    <header>Example of a rule that checks if <code>aria-errormessage</code> is used to satisfy <a href="https://www.w3.org/TR/WCAG22/#status-messages">WCAG 2.2 success criterion 4.1.3 Status messages</a>:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p> The <code>aria-errormessage</code> property is known to have limited support with several major screen readers. This method cannot be relied on for support. Alternatives, like using live regions, could serve as fallback. (January 2019) </p>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <p>While an accessibility support section <em class="rfc2119">must</em> be included in the ACT Rule, it <em class="rfc2119">may</em> be empty when there are no known accessibility support issues.</p>[m
[32m+[m[32m   <div class="note" role="note">[m
[32m+[m[32m    <p><strong>Note:</strong> The Website Accessibility Conformance Evaluation Methodology (WCAG-EM) provides guidance on defining an <a href="https://www.w3.org/TR/WCAG-EM/#step1c">accessibility support baseline</a> for test scenarios, which can help users of ACT Rules to select the appropriate rules for their own circumstance.</p>[m
[32m+[m[32m   </div>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.8.3" id="related-rules"><span class="secno">4.8.3. </span><span class="content">Related Rules (optional)</span><a class="self-link" href="#related-rules"></a></h4>[m
[32m+[m[32m   <p>Related rules are other rules that test the same accessibility requirement. For example, two related rules of a composite rule can be the two atomic rules that contribute to its outcome. Similarly, each atomic rule in this example can list the other atomic rule and the composite rule as its related rules.</p>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.8.4" id="other-resources"><span class="secno">4.8.4. </span><span class="content">Other Resources (optional)</span><a class="self-link" href="#other-resources"></a></h4>[m
[32m+[m[32m   <p>Whenever a resource is included in the rule, the relationship to the relevant reading can be specified. Examples of relevant background references for a rule for a <a href="https://www.w3.org/WAI/standards-guidelines/wcag/">Web Content Accessibility Guidelines</a> <a data-link-type="biblio" href="#biblio-wcag22" title="Web Content Accessibility Guidelines (WCAG) 2.2">[WCAG22]</a> success criterion could be <a href="https://www.w3.org/WAI/WCAG22/Understanding/">WCAG 2.2 Understanding documents</a>, <a href="https://www.w3.org/WAI/WCAG22/Techniques/">WCAG 2.2 Techniques</a>, or <a href="https://www.w3.org/TR/wai-aria/">WAI-ARIA 1.2</a>, CSS <a data-link-type="biblio" href="#biblio-css-2018" title="CSS Snapshot 2018">[css-2018]</a>, or HTML <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> specifications.</p>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.9" id="test-cases"><span class="secno">4.9. </span><span class="content">Test Cases</span><a class="self-link" href="#test-cases"></a></h3>[m
[32m+[m[32m   <p>Test cases are (snippets of) content that can be used to validate the implementation of ACT Rules. Each rule <em class="rfc2119">must</em> have one or more test cases for <code>passed</code>, <code>failed</code>, and <code>inapplicable</code> <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘ â‘ ">outcomes</a>. A test case consists of two pieces of data, a snippet of each <a href="#input-aspects">input aspect</a> for a rule, and the expected outcome for that rule. Test cases serve two functions, firstly as example scenarios for readers to understand when the outcome of a rule is <code>passed</code>, <code>failed</code>, or <code>inapplicable</code>. It also serves developers and users of accessibility testing tools and methodologies to validate that a rule is correctly implemented.</p>[m
[32m+[m[32m   <p>Each<code>passed</code> and <code>inapplicable</code> test case of an ACT Rule <em class="rfc2119">must</em> satisfy all the ruleâ€™s <a data-link-type="dfn" href="#conformance-requirementsâ‘ " id="ref-for-conformance-requirementsâ‘ ">conformance requirements</a>. For each <code>failed</code> test case, all conformance requirements <em class="rfc2119">must</em> be <em>not satisfied</em>.</p>[m
[32m+[m[32m   <aside class="example" id="example-09b9695b">[m
[32m+[m[32m    <a class="self-link" href="#example-09b9695b"></a>[m[41m [m
[32m+[m[32m    <header>Example of HTML test cases for a rule that checks if <code>img</code> elements have a text alternative:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>Example of a <code>passed</code> outcome:</p>[m
[32m+[m[32m<pre class="language-html highlight"><c- p>&lt;</c-><c- f>img</c-> <c- e>alt</c-><c- o>=</c-><c- s>"W3C Logo"</c-> <c- e>src</c-><c- o>=</c-><c- s>"image/w3c.png"</c-><c- p>></c->[m
[32m+[m[32m</pre>[m
[32m+[m[32m     <p>Example of a <code>failed</code> outcome:</p>[m
[32m+[m[32m<pre class="language-html highlight"><c- p>&lt;</c-><c- f>img</c-> <c- e>src</c-><c- o>=</c-><c- s>"image/w3c.png"</c-><c- p>></c->[m
[32m+[m[32m</pre>[m
[32m+[m[32m     <p>Example of an <code>inapplicable</code> outcome:</p>[m
[32m+[m[32m<pre class="language-html highlight"><c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>"image"</c-> <c- e>alt</c-><c- o>=</c-><c- s>"W3C Logo"</c-> <c- e>src</c-><c- o>=</c-><c- s>"image/w3c.png"</c-><c- p>></c->[m
[32m+[m[32m</pre>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.10" id="rule-versions"><span class="secno">4.10. </span><span class="content">Rule Versions</span><a class="self-link" href="#rule-versions"></a></h3>[m
[32m+[m[32m   <p>It is important to keep track of versions of ACT Rules so that users of the rules can understand if changes in test results are due to changes in the rules used when performing the tests, or from changes in the content itself. All previous versions of an ACT Rule <em class="rfc2119">must</em> be recorded either in the rule document or referenced from it.</p>[m
[32m+[m[32m   <p>This section was previously named "Change Log". Either section name is acceptable.</p>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.11" id="act-rules-format-version"><span class="secno">4.11. </span><span class="content">ACT Rules Format Version</span><a class="self-link" href="#act-rules-format-version"></a></h3>[m
[32m+[m[32m   <p>An ACT Rule is written for a specific version of the ACT Rules Format. Each ACT Rule <em class="rfc2119">must</em> indicate the version of the ACT Rules Format for which it is written.</p>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.12" id="glossary"><span class="secno">4.12. </span><span class="content">Glossary</span><a class="self-link" href="#glossary"></a></h3>[m
[32m+[m[32m   <p>ACT Rules <em class="rfc2119">must</em> have a glossary section. The glossary <em class="rfc2119">must</em> contain the <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘ â‘¡">outcome</a> definition, as well as any definitions used in <a href="#applicability">applicability</a> and <a href="#expectations">expectations</a> sections in the rule. Since changes to the definition change the rule, those definitions cannot be maintained independently of the rule. If a shared glossary is used for rules, any definition changes <em class="rfc2119">must</em> result in a new <a href="#rule-versions">rule version</a> of all rules that use that definition.</p>[m
[32m+[m[32m   <div class="note" role="note">[m
[32m+[m[32m    <p><strong>Note:</strong> Rules can use multiple glossaries, some in the rule, and some outside. These can also be glossaries in other documents such as WCAG 2.2 or HTML 5. Where an external glossary term can change without a change to the rule, some indication of the glossary termâ€™s version is necessary. For example the HTML 5 standard is regularly updated, so a date can be added to the link to indicate the version that was used in authoring the rule.</p>[m
[32m+[m[32m   </div>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.13" id="issues-list"><span class="secno">4.13. </span><span class="content">Issues List (optional)</span><a class="self-link" href="#issues-list"></a></h3>[m
[32m+[m[32m   <p>An ACT Rule <em class="rfc2119">may</em> include a list or a reference to a list of any known issues. The issues list would be used to record cases where an <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘ â‘¢">outcome</a> of an ACT Rule was <code>failed</code> where it ought to have been <code>passed</code> or <code>inapplicable</code>, or vice versa. There are several reasons why this might occur. See <a href="#rule-accuracy">rule accuracy</a> for more information.</p>[m
[32m+[m[32m   <p>The issues list serves two purposes. For users of ACT Rules, the issues list gives insight into why an inaccurate result occurred, as well as provide confidence in the result of that rule. For the designer of the rule, the issues list is also useful to plan future updates to the rule. In a new version of the rule, resolved issues would be moved to the change log.</p>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.14" id="implementations"><span class="secno">4.14. </span><span class="content">Implementations (optional)</span><a class="self-link" href="#implementations"></a></h3>[m
[32m+[m[32m   <p>An ACT Rule <em class="rfc2119">may</em> contain a list of <a data-link-type="dfn" href="#implementation" id="ref-for-implementation">implementations</a>, where each <a data-link-type="dfn" href="#implementation" id="ref-for-implementationâ‘ ">implementation</a> has one or more <a data-link-type="dfn" href="#check" id="ref-for-check">checks</a> that are consistent or partially consistent with that rule. An implementation is an accessibility test methodology or test tool that uses <a data-link-type="dfn" href="#check" id="ref-for-checkâ‘ ">checks</a> to compute <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘ â‘£">outcomes</a> indicating whether an <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘§">accessibility requirement</a> could be satisfied. These checks can be fully automated, completely manual, or some combination of the two.</p>[m
[32m+[m[32m   <p><a data-link-type="dfn" href="#check" id="ref-for-checkâ‘¡">Checks</a> are not required to have a one-to-one mapping to an ACT Rule. A single check can be consistent with multiple ACT Rules or a <a href="#impl-partial-consistency">set of checks</a> can together be consistent with a single ACT Rule.</p>[m
[32m+[m[32m   <p>For each implementation, information such as the following could be included:</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Name, title or identifier of any consistent or partially consistent checks</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#impl-consistency">Consistency</a></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="https://www.w3.org/TR/EARL10-Schema/#TestMode">test modes</a> of the checks (e.g. automatic, manual, semiAuto)</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Name of implementation</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Version used in testing consistency and coverage</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Name of the vendor</p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.14.1" id="impl-consistency"><span class="secno">4.14.1. </span><span class="content">Consistency</span><a class="self-link" href="#impl-consistency"></a></h4>[m
[32m+[m[32m   <p>Consistency describes how well a <a data-link-type="dfn" href="#check" id="ref-for-checkâ‘¢">check</a> is aligned with the intent of an ACT Rule. If consistency is included in an ACT Rule it <em class="rfc2119">must</em> be determined as defined in this section. A consistent check of an ACT Rule is one that can be used to identify some or all non-conformance issues as described by the rule. A check is <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="consistent">consistent</dfn> when all the following are true:</p>[m
[32m+[m[32m   <ol>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="true-positives">True positives</dfn>: There are no inconsistencies with the test cases, meaning:</p>[m
[32m+[m[32m     <ol>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p>The <code>passed</code> and <code>inapplicable</code> test cases are <strong>not</strong> reported as <code>failed</code>; and</p>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p>The <code>failed</code> test cases are <strong>not</strong> reported as <code>passed</code> or <code>inapplicable</code>; and</p>[m
[32m+[m[32m     </ol>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="completeness">Completeness</dfn>: There are no gaps in coverage, meaning:</p>[m
[32m+[m[32m     <ol>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p>None of the <a data-link-type="dfn" href="#check" id="ref-for-checkâ‘£">check</a>â€™s outcomes are <code>untested</code>; and</p>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p>At least one of the <code>failed</code> test cases is reported as <code>failed</code>; and</p>[m
[32m+[m[32m     </ol>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="rule-mapping">Rule Mapping</dfn>: The accessibility requirements are reported consistently, meaning:</p>[m
[32m+[m[32m     <ol>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p>The <a data-link-type="dfn" href="#check" id="ref-for-checkâ‘¤">check</a> is reported as testing for all the ruleâ€™s <a data-link-type="dfn" href="#conformance-requirementsâ‘ " id="ref-for-conformance-requirementsâ‘ â‘ ">conformance requirements</a>, except requirements of a level or standard not supported by the implementation; and</p>[m
[32m+[m[32m      <li data-md>[m
[32m+[m[32m       <p>All accessibility requirements the rule reports to be a part of are either <a data-link-type="dfn" href="#conformance-requirementsâ‘ " id="ref-for-conformance-requirementsâ‘ â‘¡">conformance requirements</a> or <a data-link-type="dfn" href="#secondary-requirementsâ‘ " id="ref-for-secondary-requirementsâ‘ ">secondary requirements</a>, except for requirements of <a data-link-type="dfn" href="#accessibility-requirements-document" id="ref-for-accessibility-requirements-documentâ‘§">accessibility requirements documents</a> not mentioned in the rule.</p>[m
[32m+[m[32m     </ol>[m
[32m+[m[32m   </ol>[m
[32m+[m[32m   <p>When a <a data-link-type="dfn" href="#check" id="ref-for-checkâ‘¥">check</a> reports more than one outcomes for a test case, the first outcome that appears on the following ordered list is considered for determining consistency:</p>[m
[32m+[m[32m   <ol>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><code>failed</code></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><code>untested</code></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><code>cantTell</code></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><code>passed</code></p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><code>inapplicable</code></p>[m
[32m+[m[32m   </ol>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.14.2" id="impl-partial-consistency"><span class="secno">4.14.2. </span><span class="content">Partial Consistency</span><a class="self-link" href="#impl-partial-consistency"></a></h4>[m
[32m+[m[32m   <p>A <a data-link-type="dfn" href="#check" id="ref-for-checkâ‘¦">check</a> that is not <a data-link-type="dfn" href="#consistent" id="ref-for-consistent">consistent</a> is considered <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="partially-consistent">partially consistent</dfn> if the <a data-link-type="dfn" href="#true-positives" id="ref-for-true-positives">true positive</a> condition is true and not all outcomes it reports for the ruleâ€™s test cases are <code>cantTell</code> or <code>untested</code>.</p>[m
[32m+[m[32m   <h4 class="heading settled" data-level="4.14.3" id="impl-multi-check"><span class="secno">4.14.3. </span><span class="content">Consistency with multiple checks</span><a class="self-link" href="#impl-multi-check"></a></h4>[m
[32m+[m[32m   <p>An <a data-link-type="dfn" href="#implementation" id="ref-for-implementationâ‘¡">implementation</a> can include <a data-link-type="dfn" href="#check" id="ref-for-checkâ‘§">checks</a> that test only parts of a single ACT Rule. The combination of those checks can be consistent if all parts of the ACT Rule are covered. The consistency of a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="set-of-checks">set of checks</dfn> can be determined by treating all <a data-link-type="dfn" href="#partially-consistent" id="ref-for-partially-consistent">partially consistent</a> checks as though they were a single check.</p>[m
[32m+[m[32m   <p>A <a data-link-type="dfn" href="#set-of-checks" id="ref-for-set-of-checks">set of checks</a> is <a data-link-type="dfn" href="#consistent" id="ref-for-consistentâ‘ ">consistent</a> with an ACT Rule if it meets all requirements for a <a data-link-type="dfn" href="#consistent" id="ref-for-consistentâ‘¡">consistent check</a>. The <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘ â‘¤">outcomes</a> for this set of checks is a list of all outcomes of checks that are partially consistent with the ACT Rule. The accessibility requirements of this set of checks is a list of all accessibility requirements of checks that are partially consistent with the ACT rule.</p>[m
[32m+[m[32m   <aside class="example" id="example-cc021208">[m
[32m+[m[32m    <a class="self-link" href="#example-cc021208"></a>[m[41m [m
[32m+[m[32m    <header>Example of a consistent set of checks:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <p>An ACT Rule checks that all native button elements, and elements with a role="button" have an accessible name. The ACT Rule has test cases including both native buttons and role="button" elements.</p>[m
[32m+[m[32m     <p>The ACME Conformance Tool has a check for native button elements. This check passes all native buttons with an accessible name, it fails all native buttons without an accessible name, and gives inapplicable for pages with only elements with role="button". Because it reports inapplicable for some of the failed test cases of the ACT Rule, this check is partially consistent. </p>[m
[32m+[m[32m     <p>ACME Conformance Tool has a second check for elements with role="button". This works similarly to the previous check, except it passes and fails role="button" elements, and is inapplicable for pages with only native buttons. This check is also partially consistent. The combination of these two checks is consistent though, because all failed test cases of the ACT Rule are failed by one of the checks.</p>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <h3 class="heading settled" data-level="4.15" id="acknowledgments"><span class="secno">4.15. </span><span class="content">Acknowledgments (optional)</span><a class="self-link" href="#acknowledgments"></a></h3>[m
[32m+[m[32m   <p>An ACT Rule <em class="rfc2119">may</em> contain acknowledgments. This can include, but is not limited to:</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>List of rule authors</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>List of rule reviewers/contributors</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Funding or other support</p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <h2 class="heading settled" data-level="5" id="rule-accuracy"><span class="secno">5. </span><span class="content">Rule Accuracy</span><a class="self-link" href="#rule-accuracy"></a></h2>[m
[32m+[m[32m   <p>This section is <em>non-normative</em>.</p>[m
[32m+[m[32m   <p>While <a href="#test-cases">test cases</a> can be used to determine if an ACT Rule was correctly implemented, they do not guarantee that implementations will never produce incorrect results. When writing ACT Rules, it is almost inevitable that edge cases will be overlooked. Technologies are always evolving, and content authors are constantly coming up with new and unexpected ways to use them. Some examples of causes for inaccuracy are:</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><a href="#assumptions">Assumptions</a> were made about the test subject that turned out to be untrue</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Technologies were used in an unusual and difficult to predict manner</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Technologies have changes, or aspects of the technologies were overlooked</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>The accessibility requirement was not correctly interpreted</p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <p>There are two types of inaccuracies that can produce incorrect results. Inaccuracies in the <strong>implementation</strong> can be addressed with test cases, but inaccuracies in the <strong>ACT Rule itself</strong> cannot. After all, rule inaccuracies come from the rule author being unaware of a particular edge case.</p>[m
[32m+[m[32m   <p>When a test result incorrectly indicates non-conformance to an accessibility requirement, this is known as a false positive. Opposite, when a rule incorrectly indicates conformance, this is a false negative. A percentage of false positives and false negatives can be calculated by comparing it to results from an accessibility audit:</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><strong>False positives:</strong> This is the percentage of <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘¦">test targets</a>, that were <code>failed</code> by the rule, but satisfy the <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘¨">accessibility requirements</a>.</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p><strong>False negatives:</strong> This is the percentage of <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘§">test targets</a>, that were <code>passed</code> by the rule, but do not satisfy the <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘ â“ª">accessibility requirements</a>.</p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <p>The ever present possibility of false positives and false negatives with ACT Rules means they will likely require ongoing maintenance. Designing a process for maintaining ACT Rules is outside the scope of the ACT Rules Format, which is limited to the rules themselves. Nevertheless, it is suggested that rule authors work out a process for maintaining their rules.</p>[m
[32m+[m[32m   <h2 class="heading settled" data-level="6" id="harmonization"><span class="secno">6. </span><span class="content">Harmonization</span><a class="self-link" href="#harmonization"></a></h2>[m
[32m+[m[32m   <p>This section is <em>non-normative</em>.</p>[m
[32m+[m[32m   <p>While the ACT Rules Format is designed to stimulate harmonization, there are no direct requirement in the ACT Rules Format that prevent a rule author from writing rules inconsistent with already established ACT Rules. Neither are there requirements for ACT Rules to have a certain number of implementations, or to have a certain level of accuracy. This allows quality requirements to be different for different rulesets, and allows them to develop over time.</p>[m
[32m+[m[32m   <p>Harmonization occurs when a group of rule implementors collectively accept the validity of an ACT Rule. For example, a community group of accessibility testing tool vendors could declare they have harmonized on a particular set of ACT Rules. Such a group can set acceptance criteria for rules, and have quality requirements that go beyond the ACT Rules Format.</p>[m
[32m+[m[32m   <aside class="example" id="example-65a5c06a">[m
[32m+[m[32m    <a class="self-link" href="#example-65a5c06a"></a>[m[41m [m
[32m+[m[32m    <header>Example of acceptance criteria for a group working on EPUB rules:</header>[m
[32m+[m[32m    <blockquote>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li>An ACT EPUB Rule is harmonized when it is approved by members of 3 organizations, AND[m
[32m+[m[32m      <li>An ACT EPUB Rule is harmonized when it has 2 independent implementations[m
[32m+[m[32m     </ul>[m
[32m+[m[32m    </blockquote>[m
[32m+[m[32m   </aside>[m
[32m+[m[32m   <p>An example of such a process is the <a href="https://w3c.github.io/wcag-act/wcag-ruleset-review-process">WCAG ACT Review Process</a>.</p>[m
[32m+[m[32m   <h2 class="heading settled" data-level="7" id="privacy-considerations"><span class="secno">7. </span><span class="content">Privacy Considerations</span><a class="self-link" href="#privacy-considerations"></a></h2>[m
[32m+[m[32m   <p>This specification is not intended to expose information directly to user agents or assistive technologies. This Group is not aware of other privacy implications.</p>[m
[32m+[m[32m   <h2 class="heading settled" data-level="8" id="security-considerations"><span class="secno">8. </span><span class="content">Security considerations</span><a class="self-link" href="#security-considerations"></a></h2>[m
[32m+[m[32m   <p>This specification does not provide means for protocols, domains, and ports to communicate directly with underlying platforms (including browsers and operating systems), neither does it allow access to device sensors. The specification does not enable new script execution/loading mechanisms. This Group is not aware of other security considerations.</p>[m
[32m+[m[32m   <h2 class="heading settled" data-level="9" id="definitions"><span class="secno">9. </span><span class="content">Definitions</span><a class="self-link" href="#definitions"></a></h2>[m
[32m+[m[32m   <dl>[m
[32m+[m[32m    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="accessibility-requirement">Accessibility requirement</dfn>[m
[32m+[m[32m    <dd>[m
[32m+[m[32m     <p>An accessibility requirement is a requirement aimed at improving access for people with disabilities to an ICT product. In the context of ACT rules mapping, a requirement can be compulsory or advisory. When compulsory, it has to be satisfied in order to conform to a standard, or to comply with a contract, policy or regulation. When advisory, it is recommended, but not satisfying it does not lead to non-conformance or non-compliance.</p>[m
[32m+[m[32m     <p>A common example of accessibility requirements are the WCAG success criteria. There are other standards, including W3C standards, that have recommendations for accessibility, such as WAI-ARIA and HTML. Accessibility requirements are also often found in company policies, regional standards or in legislation.</p>[m
[32m+[m[32m    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="accessibility-requirements-document">Accessibility requirements document</dfn>[m
[32m+[m[32m    <dd>[m
[32m+[m[32m     <p>A document, such as a standard, contract, policy or regulation, that includes <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘ â‘ ">accessibility requirements</a>. For example, WCAG 2.2, WAI-ARIA 1.2, HTML 5.2, EPUB Accessibility 1.0, BBC HTML Accessibility Standards v2.0</p>[m
[32m+[m[32m    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check">Check</dfn>[m
[32m+[m[32m    <dd>[m
[32m+[m[32m     <p>A procedure resulting in one or more <a data-link-type="dfn" href="#outcome" id="ref-for-outcomeâ‘ â‘¥">outcomes</a> when used to evaluate the accessibility of a web page or other test subject. The procedure can be a step by step description of how to manually perform a test, a fully automated test, or some combination of manual and automated testing.</p>[m
[32m+[m[32m    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="implementation">Implementation</dfn>[m
[32m+[m[32m    <dd>[m
[32m+[m[32m     <p>An accessibility test methodology or test tool, containing a set of <a data-link-type="dfn" href="#check" id="ref-for-checkâ‘¨">checks</a> which can be used to determine (non-)conformance of <a data-link-type="dfn" href="#accessibility-requirement" id="ref-for-accessibility-requirementâ‘ â‘¡">accessibility requirements</a>.</p>[m
[32m+[m[32m    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="outcome">Outcome</dfn>[m
[32m+[m[32m    <dd>[m
[32m+[m[32m     <p>A conclusion that comes from evaluating an ACT Rule on a <a data-link-type="dfn" href="#test-subject" id="ref-for-test-subjectâ‘¦">test subject</a> or one of its constituent <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘¨">test target</a>. An outcome can be one of the five following types:</p>[m
[32m+[m[32m     <ul>[m
[32m+[m[32m      <li><strong>inapplicable:</strong> No part of the test subject matches the applicability[m
[32m+[m[32m      <li><strong>passed:</strong> A <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘ â“ª">test target</a> meets all expectations[m
[32m+[m[32m      <li><strong>failed:</strong> A <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘ â‘ ">test target</a> does not meet all expectations[m
[32m+[m[32m      <li><strong>cantTell:</strong> Whether the rule is applicable, or whether all expectations were met could not be fully determined by the tester.[m
[32m+[m[32m      <li><strong>Untested:</strong> The test subject was not evaluated for the rule.[m
[32m+[m[32m     </ul>[m
[32m+[m[32m     <div class="note" role="note">[m
[32m+[m[32m      <p><strong>Note:</strong> A rule has one <code>passed</code> or <code>failed</code> outcome for every <a data-link-type="dfn" href="#test-target" id="ref-for-test-targetâ‘ â‘¡">test target</a>. When a tester evaluates a test target it can also be reported as <code>cantTell</code> if the rule cannot be tested in its entirety. For example, when applicability was automated, but the expectations have to be evaluated manually.</p>[m
[32m+[m[32m      <p>When there are no test targets the rule has one <code>inapplicable</code> outcome. If the tester is unable to determine whether there are test targets there will be one <code>cantTell</code> outcome. And when no evaluation has occurred the test target has one <code>untested</code> outcome. This means that each <a data-link-type="dfn" href="#test-subject" id="ref-for-test-subjectâ‘§">test subject</a> always has one or more outcomes.</p>[m
[32m+[m[32m      <p>Outcomes used in ACT Rules can be expressed using the <a href="https://www.w3.org/TR/EARL10-Schema/#outcome">outcome property</a> of the <a data-link-type="biblio" href="#biblio-earl10-schema" title="Evaluation and Report Language (EARL) 1.0 Schema">[EARL10-Schema]</a>.</p>[m
[32m+[m[32m     </div>[m
[32m+[m[32m    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="test-subject">Test Subject</dfn>[m
[32m+[m[32m    <dd>[m
[32m+[m[32m     <p>A resource or collection of resources that can be evaluated by an ACT Rule.</p>[m
[32m+[m[32m     <aside class="example" id="example-42b1dee1">[m
[32m+[m[32m      <a class="self-link" href="#example-42b1dee1"></a>[m[41m [m
[32m+[m[32m      <header>Example of test subjects:</header>[m
[32m+[m[32m      <blockquote>[m
[32m+[m[32m       <ul>[m
[32m+[m[32m        <li>An HTML page, including all embedded scripts, style and images[m
[32m+[m[32m        <li>An EPUB publication[m
[32m+[m[32m        <li>A web component file[m
[32m+[m[32m       </ul>[m
[32m+[m[32m      </blockquote>[m
[32m+[m[32m     </aside>[m
[32m+[m[32m     <div class="note" role="note">[m
[32m+[m[32m      <p><strong>Note:</strong> Implementers using the <a data-link-type="biblio" href="#biblio-earl10-schema" title="Evaluation and Report Language (EARL) 1.0 Schema">[EARL10-Schema]</a> can express the test subject with the <a href="https://www.w3.org/TR/EARL10-Schema/#subject">subject property</a></p>[m
[32m+[m[32m     </div>[m
[32m+[m[32m    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="test-target">Test Target</dfn>[m
[32m+[m[32m    <dd>[m
[32m+[m[32m     <p>A distinct part of the <a data-link-type="dfn" href="#test-subject" id="ref-for-test-subjectâ‘¨">test subject</a>, as defined by the <a href="#applicability">applicability</a>.</p>[m
[32m+[m[32m     <aside class="example" id="example-cd7029f9">[m
[32m+[m[32m      <a class="self-link" href="#example-cd7029f9"></a>[m[41m [m
[32m+[m[32m      <header>Example of test targets:</header>[m
[32m+[m[32m      <blockquote>[m
[32m+[m[32m       <ul>[m
[32m+[m[32m        <li>Nodes within an HTML page[m
[32m+[m[32m        <li>A period of time within a video[m
[32m+[m[32m        <li>A range of characters within a text document[m
[32m+[m[32m       </ul>[m
[32m+[m[32m      </blockquote>[m
[32m+[m[32m     </aside>[m
[32m+[m[32m     <div class="note" role="note">[m
[32m+[m[32m      <p><strong>Note:</strong> Implementers using the <a data-link-type="biblio" href="#biblio-earl10-schema" title="Evaluation and Report Language (EARL) 1.0 Schema">[EARL10-Schema]</a> can express the test target with the <a href="https://www.w3.org/TR/EARL10-Schema/#pointer">pointer property</a></p>[m
[32m+[m[32m     </div>[m
[32m+[m[32m   </dl>[m
[32m+[m[32m   <h2 class="heading settled" id="appendix-data-example"><span class="content">Appendix 1: Expressing ACT Rule results with JSON-LD and EARL</span><a class="self-link" href="#appendix-data-example"></a></h2>[m
[32m+[m[32m   <p>This section is <em>non-normative</em>.</p>[m
[32m+[m[32m   <p>This section provides examples of expressing results from carrying out ACT Rules using EARL and JSON-LD (See <a href="https://www.w3.org/WAI/standards-guidelines/earl/">Evaluation and Report Language</a> and <a href="https://www.w3.org/TR/json-ld/">A JSON-based Serialization for Linked Data (JSON-LD)</a>). More examples and background is provided on the <a href="https://github.com/w3c/earl">JSON-LD serialization of EARL</a> GitHub repository.</p>[m
[32m+[m[32m   <p>Examples in this section include:</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Example 1: Minimal outcome from one assertion</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Example 2: Results from more than one assertion</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Example 3: Aggregating based on requirement</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Example 4: Aggregating based on 'Test Subject'</p>[m
[32m+[m[32m    <li data-md>[m
[32m+[m[32m     <p>Example 5: Assumed context for this section</p>[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <p><strong>Example 1:</strong> Minimal outcome for one assertion</p>[m
[32m+[m[32m<pre class="language-javascript highlight"><c- p>{</c->[m
[32m+[m[32m  <c- u>"@context"</c-><c- o>:</c-> <c- u>"context.json"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"@type"</c-><c- o>:</c-> <c- u>"Assertion"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"assertedBy"</c-><c- o>:</c-> <c- u>"https://example.org/MyTool"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"subject"</c-><c- o>:</c-> <c- u>"https://example.org/page1.html"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"test"</c-><c- o>:</c-> <c- u>"ACT-CG:rules/23a2a8"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"result"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m    <c- u>"outcome"</c-><c- o>:</c-> <c- u>"earl:failed"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"pointer"</c-><c- o>:</c-> <c- u>"html > body > h1:first-child"</c->[m
[32m+[m[32m  <c- p>}</c->[m
[32m+[m[32m<c- p>}</c->[m
[32m+[m[32m</pre>[m
[32m+[m[32m   <p><strong>Example 2:</strong> Results for more than one assertion</p>[m
[32m+[m[32m<pre class="language-javascript highlight"><c- p>{</c->[m
[32m+[m[32m  <c- u>"@context"</c-><c- o>:</c-> <c- u>"context.json"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"@graph"</c-><c- o>:</c-> <c- p>[{</c->[m
[32m+[m[32m    <c- u>"@type"</c-><c- o>:</c-> <c- u>"Assertion"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"assertedBy"</c-><c- o>:</c-> <c- u>"https://example.org/MyTool"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"subject"</c-><c- o>:</c-> <c- u>"https://example.org/page1.html"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"test"</c-><c- o>:</c-> <c- u>"ACT-CG:rules/23a2a8"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"result"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m      <c- u>"outcome"</c-><c- o>:</c-> <c- u>"earl:failed"</c-><c- p>,</c->[m
[32m+[m[32m      <c- u>"pointer"</c-><c- o>:</c-> <c- u>"html > body > h1:first-child"</c->[m
[32m+[m[32m    <c- p>}</c->[m
[32m+[m[32m  <c- p>},</c-> <c- p>{</c->[m
[32m+[m[32m    <c- u>"@type"</c-><c- o>:</c-> <c- u>"Assertion"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"assertedBy"</c-><c- o>:</c-> <c- u>"https://example.org/AnotherTool"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"subject"</c-><c- o>:</c-> <c- u>"https://example.org/page1.html"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"test"</c-><c- o>:</c-> <c- u>"ACT-CG:rules/23a2a8"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"result"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m      <c- u>"outcome"</c-><c- o>:</c-> <c- u>"earl:passed"</c-><c- p>,</c->[m
[32m+[m[32m      <c- u>"pointer"</c-><c- o>:</c-> <c- u>"html > body > h1:nth-child(2)"</c->[m
[32m+[m[32m    <c- p>}</c->[m
[32m+[m[32m  <c- p>}]</c->[m
[32m+[m[32m<c- p>}</c->[m
[32m+[m[32m</pre>[m
[32m+[m[32m   <p><strong>Example 3:</strong> Aggregating based on requirement (eg. WCAG Success Criteria)</p>[m
[32m+[m[32m<pre class="language-javascript highlight"><c- p>{</c->[m
[32m+[m[32m  <c- u>"@context"</c-><c- o>:</c-> <c- u>"context.json"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"@type"</c-><c- o>:</c-> <c- u>"Assertion"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"assertedBy"</c-><c- o>:</c-> <c- u>"https://example.org/MyTool"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"subject"</c-><c- o>:</c-> <c- u>"https://example.org/page1.html"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"test"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m    <c- u>"@type"</c-><c- o>:</c-> <c- u>"earl:TestRequirement"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"@id"</c-><c- o>:</c-> <c- u>"WCAG22:non-text-content"</c->[m
[32m+[m[32m  <c- p>},</c->[m
[32m+[m[32m  <c- u>"result"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m    <c- u>"outcome"</c-><c- o>:</c-> <c- u>"earl:failed"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"source"</c-><c- o>:</c-> <c- p>[{</c->[m
[32m+[m[32m      <c- u>"test"</c-><c- o>:</c-> <c- u>"ACT-CG:rules/23a2a8"</c-><c- p>,</c->[m
[32m+[m[32m      <c- u>"result"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m        <c- u>"outcome"</c-><c- o>:</c-> <c- u>"earl:failed"</c-><c- p>,</c->[m
[32m+[m[32m        <c- u>"pointer"</c-><c- o>:</c-> <c- u>"html > body > h1:first-child"</c->[m
[32m+[m[32m      <c- p>}</c->[m
[32m+[m[32m    <c- p>},</c-> <c- p>{</c->[m
[32m+[m[32m      <c- u>"test"</c-><c- o>:</c-> <c- u>"ACT-RULES-CG:rules/23a2a8"</c-><c- p>,</c->[m
[32m+[m[32m      <c- u>"result"</c-> <c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m        <c- u>"outcome"</c-><c- o>:</c-> <c- u>"earl:passed"</c-><c- p>,</c->[m
[32m+[m[32m        <c- u>"pointer"</c-><c- o>:</c-> <c- u>"html > body > h1:nth-child(2)"</c->[m
[32m+[m[32m      <c- p>}</c->[m
[32m+[m[32m    <c- p>}]</c->[m
[32m+[m[32m  <c- p>}</c->[m
[32m+[m[32m<c- p>}</c->[m
[32m+[m[32m</pre>[m
[32m+[m[32m   <p><strong>Example 4:</strong> Aggregating based on 'Test Subject' (eg. for a website)</p>[m
[32m+[m[32m<pre class="language-javascript highlight"><c- p>{</c->[m
[32m+[m[32m  <c- u>"@context"</c-><c- o>:</c-> <c- u>"context.json"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"@type"</c-><c- o>:</c-> <c- u>"Assertion"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"assertedBy"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m    <c- u>"@type"</c-><c- o>:</c-> <c- u>"Organization"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"@id"</c-><c- o>:</c-> <c- u>"_:myOrg"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"title"</c-><c- o>:</c-> <c- u>"My Organization"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"description"</c-> <c- o>:</c-> <c- u>"Accessibility testing service"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"homepage"</c-> <c- o>:</c-> <c- u>"http://example.org/myOrg/"</c->[m
[32m+[m[32m  <c- p>},</c->[m
[32m+[m[32m  <c- u>"subject"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m    <c- u>"@type"</c-><c- o>:</c-> <c- p>[</c-><c- u>"WebSite"</c-><c- p>,</c-> <c- u>"TestSubject"</c-><c- p>],</c->[m
[32m+[m[32m    <c- u>"@id"</c-><c- o>:</c-> <c- u>"https://example.org/"</c->[m
[32m+[m[32m  <c- p>},</c->[m
[32m+[m[32m  <c- u>"test"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m    <c- u>"@type"</c-><c- o>:</c-> <c- u>"earl:TestRequirement"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"@id"</c-><c- o>:</c-> <c- u>"http://www.w3.org/WAI/WCAG2A-Conformance"</c->[m
[32m+[m[32m  <c- p>},</c->[m
[32m+[m[32m  <c- u>"result"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m    <c- u>"outcome"</c-><c- o>:</c-> <c- u>"earl:failed"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"source"</c-><c- o>:</c-> <c- p>[{</c->[m
[32m+[m[32m      <c- u>"test"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m        <c- u>"@type"</c-><c- o>:</c-> <c- u>"earl:TestRequirement"</c-><c- p>,</c->[m
[32m+[m[32m        <c- u>"@id"</c-><c- o>:</c-> <c- u>"WCAG22:non-text-content"</c->[m
[32m+[m[32m      <c- p>},</c->[m
[32m+[m[32m      <c- u>"result"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m        <c- u>"outcome"</c-><c- o>:</c-> <c- u>"earl:failed"</c-><c- p>,</c->[m
[32m+[m[32m        <c- u>"source"</c-><c- o>:</c-> <c- p>[</c-> â€¦ <c- p>]</c->[m
[32m+[m[32m      <c- p>}</c->[m
[32m+[m[32m    <c- p>},</c-> <c- p>{</c->[m
[32m+[m[32m      <c- u>"test"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m        <c- u>"@type"</c-><c- o>:</c-> <c- u>"earl:TestRequirement"</c-><c- p>,</c->[m
[32m+[m[32m        <c- u>"@id"</c-><c- o>:</c-> <c- u>"WCAG22:audio-only-and-video-only-prerecorded"</c->[m
[32m+[m[32m      <c- p>},</c->[m
[32m+[m[32m      <c- u>"result"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m        <c- u>"outcome"</c-><c- o>:</c-> <c- u>"earl:passed"</c-><c- p>,</c->[m
[32m+[m[32m        <c- u>"source"</c-><c- o>:</c-> <c- p>[</c-> â€¦ <c- p>]</c->[m
[32m+[m[32m      <c- p>}</c->[m
[32m+[m[32m    <c- p>},</c-> <c- p>{</c->[m
[32m+[m[32m      <c- u>"test"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m        <c- u>"@type"</c-><c- o>:</c-> <c- u>"earl:TestRequirement"</c-><c- p>,</c->[m
[32m+[m[32m        <c- u>"@id"</c-><c- o>:</c-> <c- u>"WCAG22:captions-prerecorded"</c->[m
[32m+[m[32m      <c- p>},</c->[m
[32m+[m[32m      <c- u>"result"</c-> <c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m        <c- u>"outcome"</c-><c- o>:</c-> <c- u>"earl:passed"</c-><c- p>,</c->[m
[32m+[m[32m        <c- u>"source"</c-><c- o>:</c-> <c- p>[</c-> â€¦ <c- p>]</c->[m
[32m+[m[32m      <c- p>}</c->[m
[32m+[m[32m    <c- p>},</c-> â€¦ <c- p>]</c->[m
[32m+[m[32m  <c- p>}</c->[m
[32m+[m[32m<c- p>}</c->[m
[32m+[m[32m</pre>[m
[32m+[m[32m   <p><strong>Example 5:</strong> Assumed context for this section</p>[m
[32m+[m[32m<pre class="language-javascript highlight"><c- p>{</c->[m
[32m+[m[32m  <c- u>"@vocab"</c-><c- o>:</c-> <c- u>"http://www.w3.org/ns/earl#"</c-><c- p>,</c->[m
[32m+[m
[32m+[m[32m  <c- u>"cnt"</c-><c- o>:</c-> <c- u>"http://www.w3.org/2011/content#"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"dct"</c-><c- o>:</c-> <c- u>"http://purl.org/dc/terms/"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"earl"</c-><c- o>:</c-> <c- u>"http://www.w3.org/ns/earl#"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"foaf"</c-><c- o>:</c-> <c- u>"http://xmlns.com/foaf/0.1/"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"htp"</c-><c- o>:</c-> <c- u>"http://www.w3.org/2011/http#"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"ptr"</c-><c- o>:</c-> <c- u>"https://www.w3.org/2009/pointers#"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"schema"</c-><c- o>:</c-> <c- u>"http://schema.org/"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"xsd"</c-><c- o>:</c-> <c- u>"https://www.w3.org/2001/XMLSchema#"</c-><c- p>,</c->[m
[32m+[m
[32m+[m[32m  <c- u>"WCAG20"</c-><c- o>:</c-> <c- u>"https://www.w3.org/TR/WCAG20#"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"WCAG22"</c-><c- o>:</c-> <c- u>"https://www.w3.org/TR/WCAG22#"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"ACT-RULES-CG"</c-><c- o>:</c-> <c- u>"https://act-rules.github.io/"</c-><c- p>,</c->[m
[32m+[m
[32m+[m[32m  <c- u>"WebSite"</c-><c- o>:</c-> <c- u>"schema:WebSite"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"WebPage"</c-><c- o>:</c-> <c- u>"schema:WebPage"</c-><c- p>,</c->[m
[32m+[m
[32m+[m[32m  <c- u>"title"</c-><c- o>:</c-> <c- u>"dct:title"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"description"</c-><c- o>:</c-> <c- u>"dct:description"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"date"</c-><c- o>:</c-> <c- u>"dct:date"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"hasVersion"</c-><c- o>:</c-> <c- u>"dct:hasVesion"</c-><c- p>,</c->[m[41m [m
[32m+[m[32m  <c- u>"isPartOf"</c-><c- o>:</c-> <c- u>"dct:isPartOf"</c-><c- p>,</c->[m[41m [m
[32m+[m[32m  <c- u>"hasPart"</c-><c- o>:</c-> <c- u>"dct:hasPart"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"source"</c-><c- o>:</c-> <c- u>"dct:source"</c-><c- p>,</c->[m
[32m+[m
[32m+[m[32m  <c- u>"Agent"</c-><c- o>:</c-> <c- u>"foaf:Agent"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"Person"</c-><c- o>:</c-> <c- u>"foaf:Person"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"Organization"</c-><c- o>:</c-> <c- u>"foaf:Organization"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"Group"</c-><c- o>:</c-> <c- u>"foaf:Group"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"Document"</c-><c- o>:</c-> <c- u>"foaf:Document"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"name"</c-><c- o>:</c-> <c- u>"foaf:name"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"firstName"</c-><c- o>:</c-> <c- u>"foaf:firstName"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"surname"</c-><c- o>:</c-> <c- u>"foaf:surname"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"mbox"</c-><c- o>:</c-> <c- u>"foaf:mbox"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"mbox_sha1sum"</c-><c- o>:</c-> <c- u>"foaf:mbox_sha1sum"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"member"</c-><c- o>:</c-> <c- u>"foaf:member"</c-><c- p>,</c->[m
[32m+[m[32m  <c- u>"homepage"</c-><c- o>:</c-> <c- u>"foaf:homepage"</c-><c- p>,</c->[m
[32m+[m
[32m+[m[32m  <c- u>"assertedBy"</c-><c- o>:</c-> <c- p>{</c-> <c- u>"@type"</c-><c- o>:</c-> <c- u>"@id"</c-> <c- p>},</c->[m
[32m+[m[32m  <c- u>"subject"</c-><c- o>:</c-> <c- p>{</c-> <c- u>"@type"</c-><c- o>:</c-> <c- u>"@id"</c-> <c- p>},</c->[m
[32m+[m[32m  <c- u>"test"</c-><c- o>:</c-> <c- p>{</c-> <c- u>"@type"</c-><c- o>:</c-> <c- u>"@id"</c-> <c- p>},</c->[m
[32m+[m[32m  <c- u>"mode"</c-><c- o>:</c-> <c- p>{</c-> <c- u>"@type"</c-><c- o>:</c-> <c- u>"@id"</c-> <c- p>},</c->[m
[32m+[m[32m  <c- u>"outcome"</c-><c- o>:</c-> <c- p>{</c-> <c- u>"@type"</c-><c- o>:</c-> <c- u>"@id"</c-> <c- p>},</c->[m
[32m+[m[32m  <c- u>"pointer"</c-><c- o>:</c-> <c- p>{</c->[m
[32m+[m[32m    <c- u>"@id"</c-><c- o>:</c-> <c- u>"earl:pointer"</c-><c- p>,</c->[m
[32m+[m[32m    <c- u>"@type"</c-><c- o>:</c-> <c- u>"ptr:CSSSelectorPointer"</c->[m
[32m+[m[32m  <c- p>}</c->[m
[32m+[m[32m<c- p>}</c->[m
[32m+[m[32m</pre>[m
[32m+[m[32m   <h2 class="heading settled" id="Acknowledgments"><span class="content">Appendix 2: Acknowledgments</span><a class="self-link" href="#Acknowledgments"></a></h2>[m
[32m+[m[32m   <p>This section is <em>non-normative</em>.</p>[m
[32m+[m[32m   <h3 class="heading settled" id="participants"><span class="content">Participants of the AG WG active in the development of this document</span><a class="self-link" href="#participants"></a></h3>[m
[32m+[m[32m   <p>Shadi Abou-Zahra, Trevor Bostic, Romain Deltour, Kathy Eng, Wilco Fiers, Alistair Garrison, Kasper Isager, Maureen Kraft, Mary Jo Mueller, Jey Nandakumar, Charu Pandhi, Stein Erik Skotkjerra, Anne Thyme NÃ¸rregaard, Kathleen Wahlbin</p>[m
[32m+[m[32m   <h3 class="heading settled" id="enabling-funders"><span class="content">Enabling funders</span><a class="self-link" href="#enabling-funders"></a></h3>[m
[32m+[m[32m   <p>This publication has been developed with support from the <a href="https://www.w3.org/WAI/about/projects/wai-tools/">WAI-Tools Project</a>, co-funded by the European Commission (EC) under the Horizon 2020 Program (Grant Agreement 780057). The content of this publication does not necessarily reflect the views or policies of the European Commission (EC) or any of the European Union (EU) Member States.</p>[m
[32m+[m[32m   <h2 class="heading settled" id="Change_History"><span class="content">Appendix 3: Change History</span><a class="self-link" href="#Change_History"></a></h2>[m
[32m+[m[32m   <p>This section is <em>non-normative</em>.</p>[m
[32m+[m[32m   <ul>[m
[32m+[m[32m    <li><strong>4. ACT Rules Structure</strong> Reinforce that ACT rules are localizable[m
[32m+[m[32m    <li><strong>4.1. Rule Identifier</strong> Clarifications for determining if a rule identifier is unique[m
[32m+[m[32m    <li><strong>4.4.1.2. Secondary Requirements</strong> Secondary requirements explanation no longer required in background section.[m
[32m+[m[32m    <li><strong>9. Definitions</strong> Update cantTell and Untested definitions.[m
[32m+[m[32m    <li><strong>7. Privacy Considerations</strong> Added[m
[32m+[m[32m    <li><strong>8. Security Considerations</strong> Added[m
[32m+[m[32m    <li><strong>4. Rule Structure</strong> Accessibility Support and Assumptions section are now subsections of Background.[m
[32m+[m[32m    <li><strong>4.4. Accessibility Requirements Mapping</strong> Accessibility requirements are now categorized as either Conformance requirements or Secondary requirements.[m
[32m+[m[32m    <li><strong>4.6 Applicability</strong> Subjective applicability statements are now allowed. Objective and plain language requirements have been reduced to <em class="rfc2119">should</em> instead of <em class="rfc2119">must</em>.[m
[32m+[m[32m    <li><strong>4.8. Background</strong> New optional Related Rules and Other Resources subsections have been added[m
[32m+[m[32m    <li><strong>4.10. Change Log</strong> The Change Log has been renamed to Rule Versions[m
[32m+[m[32m    <li><strong>4.11 ACT Rules Format Version</strong> New requirement to identify ACT Rules Format version compatibility[m
[32m+[m[32m    <li><strong>4.14. Implementations</strong> New section has been added, including a method for determining consistency with ACT Rules[m
[32m+[m[32m    <li><strong>7. Definitions</strong> The Outcome definition is updated to include cantTell and untested[m
[32m+[m[32m    <li><strong>Overall</strong> Links to W3C specifications are updated to their latest recommendation[m
[32m+[m[32m   </ul>[m
[32m+[m[32m   <p>All changes from the previous published version can be viewed using the <a href="https://services.w3.org/htmldiff?doc1=https://www.w3.org/TR/act-rules-format/&amp;doc2=https://w3c.github.io/wcag-act/act-rules-format.html">Editorâ€™s draft to Rules Format 1.0 Recommendation diff link</a></p>[m
[32m+[m[32m  </main>[m
[32m+[m[32m  <div data-fill-with="conformance">[m
[32m+[m[32m   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>[m
[32m+[m[32m   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>[m
[32m+[m[32m   <p>Conformance requirements are expressed[m
[32m+[m[32m    with a combination of descriptive assertions[m
[32m+[m[32m    and RFC 2119 terminology.[m
[32m+[m[32m    The key words â€œMUSTâ€, â€œMUST NOTâ€, â€œREQUIREDâ€, â€œSHALLâ€, â€œSHALL NOTâ€, â€œSHOULDâ€, â€œSHOULD NOTâ€, â€œRECOMMENDEDâ€, â€œMAYâ€, and â€œOPTIONALâ€[m
[32m+[m[32m    in the normative parts of this document[m
[32m+[m[32m    are to be interpreted as described in RFC 2119.[m
[32m+[m[32m    However, for readability,[m
[32m+[m[32m    these words do not appear in all uppercase letters in this specification. </p>[m
[32m+[m[32m   <p>All of the text of this specification is normative[m
[32m+[m[32m    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>[m
[32m+[m[32m   <p>Examples in this specification are introduced with the words â€œfor exampleâ€[m
[32m+[m[32m    or are set apart from the normative text[m
[32m+[m[32m    with <code>class="example"</code>,[m
[32m+[m[32m    like this: </p>[m
[32m+[m[32m   <div class="example" id="w3c-example">[m
[32m+[m[32m    <a class="self-link" href="#w3c-example"></a>[m[41m [m
[32m+[m[32m    <p>This is an example of an informative example. </p>[m
[32m+[m[32m   </div>[m
[32m+[m[32m   <p>Informative notes begin with the word â€œNoteâ€[m
[32m+[m[32m    and are set apart from the normative text[m
[32m+[m[32m    with <code>class="note"</code>,[m
[32m+[m[32m    like this: </p>[m
[32m+[m[32m   <p class="note" role="note">Note, this is an informative note.</p>[m
[32m+[m[32m   <section>[m
[32m+[m[32m    <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>[m
[32m+[m[32m    <p>Requirements phrased in the imperative as part of algorithms[m
[32m+[m[32m    (such as "strip any leading space characters"[m
[32m+[m[32m    or "return false and abort these steps")[m
[32m+[m[32m    are to be interpreted with the meaning of the key word[m
[32m+[m[32m    ("must", "should", "may", etc)[m
[32m+[m[32m    used in introducing the algorithm. </p>[m
[32m+[m[32m    <p>Conformance requirements phrased as algorithms or specific steps[m
[32m+[m[32m    can be implemented in any manner,[m
[32m+[m[32m    so long as the end result is equivalent.[m
[32m+[m[32m    In particular, the algorithms defined in this specification[m
[32m+[m[32m    are intended to be easy to understand[m
[32m+[m[32m    and are not intended to be performant.[m
[32m+[m[32m    Implementers are encouraged to optimize. </p>[m
[32m+[m[32m   </section>[m
[32m+[m[32m  </div>[m
[32m+[m[32m  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>[m
[32m+[m[32m  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>[m
[32m+[m[32m  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>[m
[32m+[m[32m  <ul class="index">[m
[32m+[m[32m   <li><a href="#accessibility-requirement">Accessibility requirement</a><span>, in Â§â€¯9</span>[m
[32m+[m[32m   <li><a href="#accessibility-requirements-document">Accessibility requirements document</a><span>, in Â§â€¯9</span>[m
[32m+[m[32m   <li><a href="#atomic-rules">Atomic rules</a><span>, in Â§â€¯3</span>[m
[32m+[m[32m   <li><a href="#check">Check</a><span>, in Â§â€¯9</span>[m
[32m+[m[32m   <li><a href="#completeness">Completeness</a><span>, in Â§â€¯4.14.1</span>[m
[32m+[m[32m   <li><a href="#composite-rules">Composite rules</a><span>, in Â§â€¯3</span>[m
[32m+[m[32m   <li><a href="#conformance-requirementsâ‘ ">Conformance Requirements</a><span>, in Â§â€¯4.4.1.1</span>[m
[32m+[m[32m   <li><a href="#consistent">consistent</a><span>, in Â§â€¯4.14.1</span>[m
[32m+[m[32m   <li><a href="#descriptive-title">Descriptive Title</a><span>, in Â§â€¯4</span>[m
[32m+[m[32m   <li><a href="#further-testing-is-needed">further testing is needed</a><span>, in Â§â€¯4.4.1.1</span>[m
[32m+[m[32m   <li><a href="#implementation">Implementation</a><span>, in Â§â€¯9</span>[m
[32m+[m[32m   <li><a href="#not-satisfied">not satisfied</a><span>, in Â§â€¯4.4.1.1</span>[m
[32m+[m[32m   <li><a href="#outcome">Outcome</a><span>, in Â§â€¯9</span>[m
[32m+[m[32m   <li><a href="#partially-consistent">partially consistent</a><span>, in Â§â€¯4.14.2</span>[m
[32m+[m[32m   <li><a href="#rule-mapping">Rule Mapping</a><span>, in Â§â€¯4.14.1</span>[m
[32m+[m[32m   <li><a href="#satisfied">satisfied</a><span>, in Â§â€¯4.4.1.1</span>[m
[32m+[m[32m   <li><a href="#satisfying-tests">satisfying tests</a><span>, in Â§â€¯4.4.1.1</span>[m
[32m+[m[32m   <li><a href="#secondary-requirementsâ‘ ">Secondary Requirements</a><span>, in Â§â€¯4.4.1.2</span>[m
[32m+[m[32m   <li><a href="#set-of-checks">set of checks</a><span>, in Â§â€¯4.14.3</span>[m
[32m+[m[32m   <li><a href="#test-subject">Test Subject</a><span>, in Â§â€¯9</span>[m
[32m+[m[32m   <li><a href="#test-target">Test Target</a><span>, in Â§â€¯9</span>[m
[32m+[m[32m   <li><a href="#true-positives">True positives</a><span>, in Â§â€¯4.14.1</span>[m
[32m+[m[32m  </ul>[m
[32m+[m[32m  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>[m
[32m+[m[32m  <ul class="index">[m
[32m+[m[32m   <li>[m
[32m+[m[32m    <a data-link-type="biblio">[I18N-GLOSSARY]</a> defines the following terms:[m
[32m+[m[32m    <ul>[m
[32m+[m[32m     <li><span class="dfn-paneled" id="2f7f0c6d">localisation</span>[m
[32m+[m[32m    </ul>[m
[32m+[m[32m  </ul>[m
[32m+[m[32m  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>[m
[32m+[m[32m  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>[m
[32m+[m[32m  <dl>[m
[32m+[m[32m   <dt id="biblio-i18n-glossary">[I18N-GLOSSARY][m
[32m+[m[32m   <dd>Richard Ishida; Addison Phillips. <a href="https://w3c.github.io/i18n-glossary/"><cite>Internationalization Glossary</cite></a>. URL: <a href="https://w3c.github.io/i18n-glossary/">https://w3c.github.io/i18n-glossary/</a>[m
[32m+[m[32m   <dt id="biblio-rfc2119">[RFC2119][m
[32m+[m[32m   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>[m
[32m+[m[32m  </dl>[m
[32m+[m[32m  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>[m
[32m+[m[32m  <dl>[m
[32m+[m[32m   <dt id="biblio-accname-aam-11">[ACCNAME-AAM-1.1][m
[32m+[m[32m   <dd>Joanmarie Diggs; Bryan Garaventa; Michael Cooper. <a href="https://w3c.github.io/accname/"><cite>Accessible Name and Description Computation 1.1</cite></a>. URL: <a href="https://w3c.github.io/accname/">https://w3c.github.io/accname/</a>[m
[32m+[m[32m   <dt id="biblio-css-2018">[CSS-2018][m
[32m+[m[32m   <dd>Tab Atkins Jr.; Elika Etemad; Florian Rivoal. <a href="https://drafts.csswg.org/css-2018/"><cite>CSS Snapshot 2018</cite></a>. URL: <a href="https://drafts.csswg.org/css-2018/">https://drafts.csswg.org/css-2018/</a>[m
[32m+[m[32m   <dt id="biblio-dom">[DOM][m
[32m+[m[32m   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>[m
[32m+[m[32m   <dt id="biblio-earl10-schema">[EARL10-Schema][m
[32m+[m[32m   <dd>Shadi Abou-Zahra. <a href="https://www.w3.org/TR/EARL10-Schema/"><cite>Evaluation and Report Language (EARL) 1.0 Schema</cite></a>. 2 February 2017. NOTE. URL: <a href="https://www.w3.org/TR/EARL10-Schema/">https://www.w3.org/TR/EARL10-Schema/</a>[m
[32m+[m[32m   <dt id="biblio-epub-33">[EPUB-33][m
[32m+[m[32m   <dd>Ivan Herman; Matt Garrish; Dave Cramer. <a href="https://w3c.github.io/epub-specs/epub33/core/"><cite>EPUB 3.3</cite></a>. URL: <a href="https://w3c.github.io/epub-specs/epub33/core/">https://w3c.github.io/epub-specs/epub33/core/</a>[m
[32m+[m[32m   <dt id="biblio-html">[HTML][m
[32m+[m[32m   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>[m
[32m+[m[32m   <dt id="biblio-http11">[HTTP11][m
[32m+[m[32m   <dd>R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed.. <a href="https://httpwg.org/specs/rfc9112.html"><cite>HTTP/1.1</cite></a>. June 2022. Internet Standard. URL: <a href="https://httpwg.org/specs/rfc9112.html">https://httpwg.org/specs/rfc9112.html</a>[m
[32m+[m[32m   <dt id="biblio-svg2">[SVG2][m
[32m+[m[32m   <dd>Amelia Bellamy-Royds; et al. <a href="https://svgwg.org/svg2-draft/"><cite>Scalable Vector Graphics (SVG) 2</cite></a>. URL: <a href="https://svgwg.org/svg2-draft/">https://svgwg.org/svg2-draft/</a>[m
[32m+[m[32m   <dt id="biblio-uaag20">[UAAG20][m
[32m+[m[32m   <dd>James Allan; et al. <a href="https://www.w3.org/TR/2015/NOTE-UAAG20-20151215/"><cite>User Agent Accessibility Guidelines (UAAG) 2.0</cite></a>. URL: <a href="https://www.w3.org/TR/2015/NOTE-UAAG20-20151215/">https://www.w3.org/TR/2015/NOTE-UAAG20-20151215/</a>[m
[32m+[m[32m   <dt id="biblio-wai-aria">[WAI-ARIA][m
[32m+[m[32m   <dd>James Craig; Michael Cooper; et al. <a href="https://www.w3.org/TR/wai-aria/"><cite>Accessible Rich Internet Applications (WAI-ARIA) 1.0</cite></a>. 20 March 2014. REC. URL: <a href="https://www.w3.org/TR/wai-aria/">https://www.w3.org/TR/wai-aria/</a>[m
[32m+[m[32m   <dt id="biblio-wcag22">[WCAG22][m
[32m+[m[32m   <dd>Michael Cooper; et al. <a href="https://w3c.github.io/wcag/guidelines/22/"><cite>Web Content Accessibility Guidelines (WCAG) 2.2</cite></a>. URL: <a href="https://w3c.github.io/wcag/guidelines/22/">https://w3c.github.io/wcag/guidelines/22/</a>[m
[32m+[m[32m  </dl>[m
[32m+[m[32m<script>/* Boilerplate: script-dom-helper */[m
[32m+[m[32m"use strict";[m
[32m+[m[32mfunction query(sel) { return document.querySelector(sel); }[m
[32m+[m
[32m+[m[32mfunction queryAll(sel) { return [...document.querySelectorAll(sel)]; }[m
[32m+[m
[32m+[m[32mfunction iter(obj) {[m
[32m+[m	[32mif(!obj) return [];[m
[32m+[m	[32mvar it = obj[Symbol.iterator];[m
[32m+[m	[32mif(it) return it;[m
[32m+[m	[32mreturn Object.entries(obj);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction mk(tagname, attrs, ...children) {[m
[32m+[m	[32mconst el = document.createElement(tagname);[m
[32m+[m	[32mfor(const [k,v] of iter(attrs)) {[m
[32m+[m		[32mif(k.slice(0,3) == "_on") {[m
[32m+[m			[32mconst eventName = k.slice(3);[m
[32m+[m			[32mel.addEventListener(eventName, v);[m
[32m+[m		[32m} else if(k[0] == "_") {[m
[32m+[m			[32m// property, not attribute[m
[32m+[m			[32mel[k.slice(1)] = v;[m
[32m+[m		[32m} else {[m
[32m+[m			[32mif(v === false || v == null) {[m
[32m+[m[32m        continue;[m
[32m+[m[32m      } else if(v === true) {[m
[32m+[m[32m        el.setAttribute(k, "");[m
[32m+[m[32m        continue;[m
[32m+[m[32m      } else {[m
[32m+[m[41m  [m			[32mel.setAttribute(k, v);[m
[32m+[m[32m      }[m
[32m+[m		[32m}[m
[32m+[m	[32m}[m
[32m+[m	[32mappend(el, children);[m
[32m+[m	[32mreturn el;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* Create shortcuts for every known HTML element */[m
[32m+[m[32m[[m
[32m+[m[32m  "a",[m
[32m+[m[32m  "abbr",[m
[32m+[m[32m  "acronym",[m
[32m+[m[32m  "address",[m
[32m+[m[32m  "applet",[m
[32m+[m[32m  "area",[m
[32m+[m[32m  "article",[m
[32m+[m[32m  "aside",[m
[32m+[m[32m  "audio",[m
[32m+[m[32m  "b",[m
[32m+[m[32m  "base",[m
[32m+[m[32m  "basefont",[m
[32m+[m[32m  "bdo",[m
[32m+[m[32m  "big",[m
[32m+[m[32m  "blockquote",[m
[32m+[m[32m  "body",[m
[32m+[m[32m  "br",[m
[32m+[m[32m  "button",[m
[32m+[m[32m  "canvas",[m
[32m+[m[32m  "caption",[m
[32m+[m[32m  "center",[m
[32m+[m[32m  "cite",[m
[32m+[m[32m  "code",[m
[32m+[m[32m  "col",[m
[32m+[m[32m  "colgroup",[m
[32m+[m[32m  "datalist",[m
[32m+[m[32m  "dd",[m
[32m+[m[32m  "del",[m
[32m+[m[32m  "details",[m
[32m+[m[32m  "dfn",[m
[32m+[m[32m  "dialog",[m
[32m+[m[32m  "div",[m
[32m+[m[32m  "dl",[m
[32m+[m[32m  "dt",[m
[32m+[m[32m  "em",[m
[32m+[m[32m  "embed",[m
[32m+[m[32m  "fieldset",[m
[32m+[m[32m  "figcaption",[m
[32m+[m[32m  "figure",[m
[32m+[m[32m  "font",[m
[32m+[m[32m  "footer",[m
[32m+[m[32m  "form",[m
[32m+[m[32m  "frame",[m
[32m+[m[32m  "frameset",[m
[32m+[m[32m  "head",[m
[32m+[m[32m  "header",[m
[32m+[m[32m  "h1",[m
[32m+[m[32m  "h2",[m
[32m+[m[32m  "h3",[m
[32m+[m[32m  "h4",[m
[32m+[m[32m  "h5",[m
[32m+[m[32m  "h6",[m
[32m+[m[32m  "hr",[m
[32m+[m[32m  "html",[m
[32m+[m[32m  "i",[m
[32m+[m[32m  "iframe",[m
[32m+[m[32m  "img",[m
[32m+[m[32m  "input",[m
[32m+[m[32m  "ins",[m
[32m+[m[32m  "kbd",[m
[32m+[m[32m  "label",[m
[32m+[m[32m  "legend",[m
[32m+[m[32m  "li",[m
[32m+[m[32m  "link",[m
[32m+[m[32m  "main",[m
[32m+[m[32m  "map",[m
[32m+[m[32m  "mark",[m
[32m+[m[32m  "meta",[m
[32m+[m[32m  "meter",[m
[32m+[m[32m  "nav",[m
[32m+[m[32m  "nobr",[m
[32m+[m[32m  "noscript",[m
[32m+[m[32m  "object",[m
[32m+[m[32m  "ol",[m
[32m+[m[32m  "optgroup",[m
[32m+[m[32m  "option",[m
[32m+[m[32m  "output",[m
[32m+[m[32m  "p",[m
[32m+[m[32m  "param",[m
[32m+[m[32m  "pre",[m
[32m+[m[32m  "progress",[m
[32m+[m[32m  "q",[m
[32m+[m[32m  "s",[m
[32m+[m[32m  "samp",[m
[32m+[m[32m  "script",[m
[32m+[m[32m  "section",[m
[32m+[m[32m  "select",[m
[32m+[m[32m  "small",[m
[32m+[m[32m  "source",[m
[32m+[m[32m  "span",[m
[32m+[m[32m  "strike",[m
[32m+[m[32m  "strong",[m
[32m+[m[32m  "style",[m
[32m+[m[32m  "sub",[m
[32m+[m[32m  "summary",[m
[32m+[m[32m  "sup",[m
[32m+[m[32m  "table",[m
[32m+[m[32m  "tbody",[m
[32m+[m[32m  "td",[m
[32m+[m[32m  "template",[m
[32m+[m[32m  "textarea",[m
[32m+[m[32m  "tfoot",[m
[32m+[m[32m  "th",[m
[32m+[m[32m  "thead",[m
[32m+[m[32m  "time",[m
[32m+[m[32m  "title",[m
[32m+[m[32m  "tr",[m
[32m+[m[32m  "u",[m
[32m+[m[32m  "ul",[m
[32m+[m[32m  "var",[m
[32m+[m[32m  "video",[m
[32m+[m[32m  "wbr",[m
[32m+[m[32m  "xmp",[m
[32m+[m[32m].forEach(tagname=>{[m
[32m+[m	[32mmk[tagname] = (...args) => mk(tagname, ...args);[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mfunction* nodesFromChildList(children) {[m
[32m+[m	[32mfor(const child of children.flat(Infinity)) {[m
[32m+[m		[32mif(child instanceof Node) {[m
[32m+[m			[32myield child;[m
[32m+[m		[32m} else {[m
[32m+[m			[32myield new Text(child);[m
[32m+[m		[32m}[m
[32m+[m	[32m}[m
[32m+[m[32m}[m
[32m+[m[32mfunction append(el, ...children) {[m
[32m+[m	[32mfor(const child of nodesFromChildList(children)) {[m
[32m+[m		[32mif(el instanceof Node) el.appendChild(child);[m
[32m+[m		[32melse el.push(child);[m
[32m+[m	[32m}[m
[32m+[m	[32mreturn el;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction insertAfter(el, ...children) {[m
[32m+[m	[32mfor(const child of nodesFromChildList(children)) {[m
[32m+[m		[32mel.parentNode.insertBefore(child, el.nextSibling);[m
[32m+[m	[32m}[m
[32m+[m	[32mreturn el;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction clearContents(el) {[m
[32m+[m	[32mel.innerHTML = "";[m
[32m+[m	[32mreturn el;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction parseHTML(markup) {[m
[32m+[m	[32mif(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {[m
[32m+[m		[32mconst doc = document.implementation.createHTMLDocument("");[m
[32m+[m		[32mdoc.documentElement.innerHTML = markup;[m
[32m+[m		[32mreturn doc;[m
[32m+[m	[32m} else {[m
[32m+[m		[32mconst el = mk.template({});[m
[32m+[m		[32mel.innerHTML = markup;[m
[32m+[m		[32mreturn el.content;[m
[32m+[m	[32m}[m
[32m+[m[32m}</script>[m
[32m+[m[32m<script>/* Boilerplate: script-dfn-panel */[m
[32m+[m[32m"use strict";[m
[32m+[m[32m{[m
[32m+[m[32mlet dfnPanelData = {[m
[32m+[m[32m"2f7f0c6d": {"dfnID":"2f7f0c6d","dfnText":"localisation","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-localisation"}],"title":"4. ACT Rule Structure"}],"url":"https://w3c.github.io/i18n-glossary/#dfn-localisation"},[m
[32m+[m[32m"accessibility-requirement": {"dfnID":"accessibility-requirement","dfnText":"Accessibility requirement","external":false,"refSections":[{"refs":[{"id":"ref-for-accessibility-requirement"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-accessibility-requirement\u2460"}],"title":"2. Scope"},{"refs":[{"id":"ref-for-accessibility-requirement\u2461"}],"title":"3. ACT Rule Types"},{"refs":[{"id":"ref-for-accessibility-requirement\u2462"},{"id":"ref-for-accessibility-requirement\u2463"}],"title":"4.4. Accessibility Requirements Mapping"},{"refs":[{"id":"ref-for-accessibility-requirement\u2464"}],"title":"4.4.2. Mapping Outside WCAG"},{"refs":[{"id":"ref-for-accessibility-requirement\u2465"},{"id":"ref-for-accessibility-requirement\u2466"}],"title":"4.4.3. Rules Without Accessibility Requirements"},{"refs":[{"id":"ref-for-accessibility-requirement\u2467"}],"title":"4.14. Implementations (optional)"},{"refs":[{"id":"ref-for-accessibility-requirement\u2468"},{"id":"ref-for-accessibility-requirement\u2460\u24ea"}],"title":"5. Rule Accuracy"},{"refs":[{"id":"ref-for-accessibility-requirement\u2460\u2460"},{"id":"ref-for-accessibility-requirement\u2460\u2461"}],"title":"9. Definitions"}],"url":"#accessibility-requirement"},[m
[32m+[m[32m"accessibility-requirements-document": {"dfnID":"accessibility-requirements-document","dfnText":"Accessibility requirements document","external":false,"refSections":[{"refs":[{"id":"ref-for-accessibility-requirements-document"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-accessibility-requirements-document\u2460"},{"id":"ref-for-accessibility-requirements-document\u2461"},{"id":"ref-for-accessibility-requirements-document\u2462"}],"title":"4.4. Accessibility Requirements Mapping"},{"refs":[{"id":"ref-for-accessibility-requirements-document\u2463"}],"title":"4.4.2. Mapping Outside WCAG"},{"refs":[{"id":"ref-for-accessibility-requirements-document\u2464"},{"id":"ref-for-accessibility-requirements-document\u2465"}],"title":"4.4.3. Rules Without Accessibility Requirements"},{"refs":[{"id":"ref-for-accessibility-requirements-document\u2466"}],"title":"4.4.4. External Accessibility Requirements Mapping"},{"refs":[{"id":"ref-for-accessibility-requirements-document\u2467"}],"title":"4.14.1. Consistency"}],"url":"#accessibility-requirements-document"},[m
[32m+[m[32m"atomic-rules": {"dfnID":"atomic-rules","dfnText":"Atomic rules","external":false,"refSections":[{"refs":[{"id":"ref-for-atomic-rules"}],"title":"3. ACT Rule Types"},{"refs":[{"id":"ref-for-atomic-rules\u2460"}],"title":"4.5. Rule Input"},{"refs":[{"id":"ref-for-atomic-rules\u2461"},{"id":"ref-for-atomic-rules\u2462"}],"title":"4.5.1. Input Aspects (Atomic rules only)"},{"refs":[{"id":"ref-for-atomic-rules\u2463"}],"title":"4.5.2. Input Rules (Composite rules only)"},{"refs":[{"id":"ref-for-atomic-rules\u2464"}],"title":"4.6.1. Applicability for Atomic Rules"},{"refs":[{"id":"ref-for-atomic-rules\u2465"}],"title":"4.7.1. Expectations for Atomic Rules"}],"url":"#atomic-rules"},[m
[32m+[m[32m"check": {"dfnID":"check","dfnText":"Check","external":false,"refSections":[{"refs":[{"id":"ref-for-check"},{"id":"ref-for-check\u2460"},{"id":"ref-for-check\u2461"}],"title":"4.14. Implementations (optional)"},{"refs":[{"id":"ref-for-check\u2462"},{"id":"ref-for-check\u2463"},{"id":"ref-for-check\u2464"},{"id":"ref-for-check\u2465"}],"title":"4.14.1. Consistency"},{"refs":[{"id":"ref-for-check\u2466"}],"title":"4.14.2. Partial Consistency"},{"refs":[{"id":"ref-for-check\u2467"}],"title":"4.14.3. Consistency with multiple checks"},{"refs":[{"id":"ref-for-check\u2468"}],"title":"9. Definitions"}],"url":"#check"},[m
[32m+[m[32m"completeness": {"dfnID":"completeness","dfnText":"Completeness","external":false,"refSections":[],"url":"#completeness"},[m
[32m+[m[32m"composite-rules": {"dfnID":"composite-rules","dfnText":"Composite rules","external":false,"refSections":[{"refs":[{"id":"ref-for-composite-rules"}],"title":"4.5. Rule Input"},{"refs":[{"id":"ref-for-composite-rules\u2460"}],"title":"4.5.2. Input Rules (Composite rules only)"},{"refs":[{"id":"ref-for-composite-rules\u2461"}],"title":"4.7.2. Expectations for Composite Rules"}],"url":"#composite-rules"},[m
[32m+[m[32m"conformance-requirementsâ‘ ": {"dfnID":"conformance-requirements\u2460","dfnText":"Conformance Requirements","external":false,"refSections":[{"refs":[{"id":"ref-for-conformance-requirements\u2460"}],"title":"4.9. Test Cases"},{"refs":[{"id":"ref-for-conformance-requirements\u2460\u2460"},{"id":"ref-for-conformance-requirements\u2460\u2461"}],"title":"4.14.1. Consistency"}],"url":"#conformance-requirements\u2460"},[m
[32m+[m[32m"consistent": {"dfnID":"consistent","dfnText":"consistent","external":false,"refSections":[{"refs":[{"id":"ref-for-consistent"}],"title":"4.14.2. Partial Consistency"},{"refs":[{"id":"ref-for-consistent\u2460"},{"id":"ref-for-consistent\u2461"}],"title":"4.14.3. Consistency with multiple checks"}],"url":"#consistent"},[m
[32m+[m[32m"descriptive-title": {"dfnID":"descriptive-title","dfnText":"Descriptive Title","external":false,"refSections":[{"refs":[{"id":"ref-for-descriptive-title"}],"title":"4.5.2. Input Rules (Composite rules only)"}],"url":"#descriptive-title"},[m
[32m+[m[32m"further-testing-is-needed": {"dfnID":"further-testing-is-needed","dfnText":"further testing is needed","external":false,"refSections":[],"url":"#further-testing-is-needed"},[m
[32m+[m[32m"implementation": {"dfnID":"implementation","dfnText":"Implementation","external":false,"refSections":[{"refs":[{"id":"ref-for-implementation"},{"id":"ref-for-implementation\u2460"}],"title":"4.14. Implementations (optional)"},{"refs":[{"id":"ref-for-implementation\u2461"}],"title":"4.14.3. Consistency with multiple checks"}],"url":"#implementation"},[m
[32m+[m[32m"not-satisfied": {"dfnID":"not-satisfied","dfnText":"not satisfied","external":false,"refSections":[{"refs":[{"id":"ref-for-not-satisfied"}],"title":"4.4.1.2. Secondary Requirements"}],"url":"#not-satisfied"},[m
[32m+[m[32m"outcome": {"dfnID":"outcome","dfnText":"Outcome","external":false,"refSections":[{"refs":[{"id":"ref-for-outcome"},{"id":"ref-for-outcome\u2460"},{"id":"ref-for-outcome\u2461"},{"id":"ref-for-outcome\u2462"}],"title":"3. ACT Rule Types"},{"refs":[{"id":"ref-for-outcome\u2463"}],"title":"4.4. Accessibility Requirements Mapping"},{"refs":[{"id":"ref-for-outcome\u2464"}],"title":"4.4.1. Outcome Mapping"},{"refs":[{"id":"ref-for-outcome\u2465"}],"title":"4.4.3. Rules Without Accessibility Requirements"},{"refs":[{"id":"ref-for-outcome\u2466"}],"title":"4.5.2. Input Rules (Composite rules only)"},{"refs":[{"id":"ref-for-outcome\u2467"}],"title":"4.7. Expectations"},{"refs":[{"id":"ref-for-outcome\u2468"}],"title":"4.7.1. Expectations for Atomic Rules"},{"refs":[{"id":"ref-for-outcome\u2460\u24ea"}],"title":"4.7.2. Expectations for Composite Rules"},{"refs":[{"id":"ref-for-outcome\u2460\u2460"}],"title":"4.9. Test Cases"},{"refs":[{"id":"ref-for-outcome\u2460\u2461"}],"title":"4.12. Glossary"},{"refs":[{"id":"ref-for-outcome\u2460\u2462"}],"title":"4.13. Issues List (optional)"},{"refs":[{"id":"ref-for-outcome\u2460\u2463"}],"title":"4.14. Implementations (optional)"},{"refs":[{"id":"ref-for-outcome\u2460\u2464"}],"title":"4.14.3. Consistency with multiple checks"},{"refs":[{"id":"ref-for-outcome\u2460\u2465"}],"title":"9. Definitions"}],"url":"#outcome"},[m
[32m+[m[32m"partially-consistent": {"dfnID":"partially-consistent","dfnText":"partially consistent","external":false,"refSections":[{"refs":[{"id":"ref-for-partially-consistent"}],"title":"4.14.3. Consistency with multiple checks"}],"url":"#partially-consistent"},[m
[32m+[m[32m"rule-mapping": {"dfnID":"rule-mapping","dfnText":"Rule Mapping","external":false,"refSections":[],"url":"#rule-mapping"},[m
[32m+[m[32m"satisfied": {"dfnID":"satisfied","dfnText":"satisfied","external":false,"refSections":[{"refs":[{"id":"ref-for-satisfied"}],"title":"4.4.1.1. Conformance Requirements"}],"url":"#satisfied"},[m
[32m+[m[32m"satisfying-tests": {"dfnID":"satisfying-tests","dfnText":"satisfying tests","external":false,"refSections":[],"url":"#satisfying-tests"},[m
[32m+[m[32m"secondary-requirementsâ‘ ": {"dfnID":"secondary-requirements\u2460","dfnText":"Secondary Requirements","external":false,"refSections":[{"refs":[{"id":"ref-for-secondary-requirements\u2460"}],"title":"4.14.1. Consistency"}],"url":"#secondary-requirements\u2460"},[m
[32m+[m[32m"set-of-checks": {"dfnID":"set-of-checks","dfnText":"set of checks","external":false,"refSections":[{"refs":[{"id":"ref-for-set-of-checks"}],"title":"4.14.3. Consistency with multiple checks"}],"url":"#set-of-checks"},[m
[32m+[m[32m"test-subject": {"dfnID":"test-subject","dfnText":"Test Subject","external":false,"refSections":[{"refs":[{"id":"ref-for-test-subject"},{"id":"ref-for-test-subject\u2460"}],"title":"3. ACT Rule Types"},{"refs":[{"id":"ref-for-test-subject\u2461"}],"title":"4.4.1. Outcome Mapping"},{"refs":[{"id":"ref-for-test-subject\u2462"}],"title":"4.5. Rule Input"},{"refs":[{"id":"ref-for-test-subject\u2463"}],"title":"4.5.1. Input Aspects (Atomic rules only)"},{"refs":[{"id":"ref-for-test-subject\u2464"}],"title":"4.6. Applicability"},{"refs":[{"id":"ref-for-test-subject\u2465"}],"title":"4.6.1. Applicability for Atomic Rules"},{"refs":[{"id":"ref-for-test-subject\u2466"},{"id":"ref-for-test-subject\u2467"},{"id":"ref-for-test-subject\u2468"}],"title":"9. Definitions"}],"url":"#test-subject"},[m
[32m+[m[32m"test-target": {"dfnID":"test-target","dfnText":"Test Target","external":false,"refSections":[{"refs":[{"id":"ref-for-test-target"}],"title":"3. ACT Rule Types"},{"refs":[{"id":"ref-for-test-target\u2460"}],"title":"4.5.2. Input Rules (Composite rules only)"},{"refs":[{"id":"ref-for-test-target\u2461"}],"title":"4.6.1. Applicability for Atomic Rules"},{"refs":[{"id":"ref-for-test-target\u2462"},{"id":"ref-for-test-target\u2463"}],"title":"4.7. Expectations"},{"refs":[{"id":"ref-for-test-target\u2464"}],"title":"4.7.1. Expectations for Atomic Rules"},{"refs":[{"id":"ref-for-test-target\u2465"}],"title":"4.7.2. Expectations for Composite Rules"},{"refs":[{"id":"ref-for-test-target\u2466"},{"id":"ref-for-test-target\u2467"}],"title":"5. Rule Accuracy"},{"refs":[{"id":"ref-for-test-target\u2468"},{"id":"ref-for-test-target\u2460\u24ea"},{"id":"ref-for-test-target\u2460\u2460"},{"id":"ref-for-test-target\u2460\u2461"}],"title":"9. Definitions"}],"url":"#test-target"},[m
[32m+[m[32m"true-positives": {"dfnID":"true-positives","dfnText":"True positives","external":false,"refSections":[{"refs":[{"id":"ref-for-true-positives"}],"title":"4.14.2. Partial Consistency"}],"url":"#true-positives"},[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mdocument.addEventListener("DOMContentLoaded", ()=>{[m
[32m+[m[32m    genAllDfnPanels();[m
[32m+[m
[32m+[m[32m    document.body.addEventListener("click", (e) => {[m
[32m+[m[32m        // If not handled already, just hide all dfn panels.[m
[32m+[m[32m        hideAllDfnPanels();[m
[32m+[m[32m    });[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mwindow.addEventListener("resize", () => {[m
[32m+[m[32m    // Pin any visible dfn panel[m
[32m+[m[32m    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mfunction genAllDfnPanels() {[m
[32m+[m[32m    for(const panelData of Object.values(dfnPanelData)) {[m
[32m+[m[32m        const dfnID = panelData.dfnID;[m
[32m+[m[32m        const dfn = document.getElementById(dfnID);[m
[32m+[m[32m        if(!dfn) {[m
[32m+[m[32m            console.log(`Can't find dfn#${dfnID}.`, panelData);[m
[32m+[m[32m            continue;[m
[32m+[m[32m        }[m
[32m+[m[32m        dfn.panelData = panelData;[m
[32m+[m[32m        insertDfnPopupAction(dfn);[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {[m
[32m+[m[32m    const dfnPanel = mk.aside({[m
[32m+[m[32m        class: "dfn-panel on",[m
[32m+[m[32m        id: `infopanel-for-${dfnID}`,[m
[32m+[m[32m        "data-for": dfnID,[m
[32m+[m[32m        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,[m
[32m+[m[32m        },[m
[32m+[m[32m        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},[m
[32m+[m[32m            `Info about the '${dfnText}' ${external?"external":""} reference.`),[m
[32m+[m[32m        mk.a({href:url, class:"dfn-link"}, url),[m
[32m+[m[32m        refSections.length == 0 ? [] :[m
[32m+[m[32m            mk.b({}, "Referenced in:"),[m
[32m+[m[32m            mk.ul({},[m
[32m+[m[32m                ...refSections.map(section=>[m
[32m+[m[32m                    mk.li({},[m
[32m+[m[32m                        ...section.refs.map((ref, refI)=>[m
[32m+[m[32m                            [[m
[32m+[m[32m                                mk.a({ href: `#${ref.id}` },[m
[32m+[m[32m                                    (refI == 0) ? section.title : `(${refI + 1})`[m
[32m+[m[32m                                ),[m
[32m+[m[32m                                " ",[m
[32m+[m[32m                            ][m
[32m+[m[32m                        ),[m
[32m+[m[32m                    ),[m
[32m+[m[32m                ),[m
[32m+[m[32m            ),[m
[32m+[m[32m        genLinkingSyntaxes(dfn),[m
[32m+[m[32m    );[m
[32m+[m
[32m+[m[32m    dfnPanel.addEventListener('click', (event) => {[m
[32m+[m[32m        if (event.target.nodeName == 'A') {[m
[32m+[m[32m            scrollToTargetAndHighlight(event);[m
[32m+[m[32m            pinDfnPanel(dfnPanel);[m
[32m+[m[32m        }[m
[32m+[m[32m        event.stopPropagation();[m
[32m+[m[32m        refocusOnTarget(event);[m
[32m+[m[32m    });[m
[32m+[m[32m    dfnPanel.addEventListener('keydown', (event) => {[m
[32m+[m[32m        if(event.keyCode == 27) { // Escape key[m
[32m+[m[32m            hideDfnPanel({dfnPanel});[m
[32m+[m[32m            event.stopPropagation();[m
[32m+[m[32m            event.preventDefault();[m
[32m+[m[32m        }[m
[32m+[m[32m    });[m
[32m+[m
[32m+[m[32m    dfnPanel.dfn = dfn;[m
[32m+[m[32m    dfn.dfnPanel = dfnPanel;[m
[32m+[m[32m    return dfnPanel;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mfunction hideAllDfnPanels() {[m
[32m+[m[32m    // Delete the currently-active dfn panel.[m
[32m+[m[32m    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction showDfnPanel(dfn) {[m
[32m+[m[32m    hideAllDfnPanels(); // Only display one at a time.[m
[32m+[m
[32m+[m[32m    dfn.setAttribute("aria-expanded", "true");[m
[32m+[m
[32m+[m[32m    const dfnPanel = genDfnPanel(dfn, dfn.panelData);[m
[32m+[m
[32m+[m[32m    // Give the dfn a unique tabindex, and then[m
[32m+[m[32m    // give all the tabbable panel bits successive indexes.[m
[32m+[m[32m    let tabIndex = 100;[m
[32m+[m[32m    dfn.tabIndex = tabIndex++;[m
[32m+[m[32m    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");[m
[32m+[m[32m    for (const el of tabbable) {[m
[32m+[m[32m        el.tabIndex = tabIndex++;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    append(document.body, dfnPanel);[m
[32m+[m[32m    positionDfnPanel(dfnPanel);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction positionDfnPanel(dfnPanel) {[m
[32m+[m[32m    const dfn = dfnPanel.dfn;[m
[32m+[m[32m    const dfnPos = getBounds(dfn);[m
[32m+[m[32m    dfnPanel.style.top = dfnPos.bottom + "px";[m
[32m+[m[32m    dfnPanel.style.left = dfnPos.left + "px";[m
[32m+[m
[32m+[m[32m    const panelPos = dfnPanel.getBoundingClientRect();[m
[32m+[m[32m    const panelMargin = 8;[m
[32m+[m[32m    const maxRight = document.body.parentNode.clientWidth - panelMargin;[m
[32m+[m[32m    if (panelPos.right > maxRight) {[m
[32m+[m[32m        const overflowAmount = panelPos.right - maxRight;[m
[32m+[m[32m        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);[m
[32m+[m[32m        dfnPanel.style.left = newLeft + "px";[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction pinDfnPanel(dfnPanel) {[m
[32m+[m[32m    // Switch it to "activated" state, which pins it.[m
[32m+[m[32m    dfnPanel.classList.add("activated");[m
[32m+[m[32m    dfnPanel.style.position = "fixed";[m
[32m+[m[32m    dfnPanel.style.left = null;[m
[32m+[m[32m    dfnPanel.style.top = null;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction hideDfnPanel({dfn, dfnPanel}) {[m
[32m+[m[32m    if(!dfnPanel) dfnPanel = dfn.dfnPanel;[m
[32m+[m[32m    if(!dfn) dfn = dfnPanel.dfn;[m
[32m+[m[32m    dfn.dfnPanel = undefined;[m
[32m+[m[32m    dfnPanel.dfn = undefined;[m
[32m+[m[32m    dfn.setAttribute("aria-expanded", "false");[m
[32m+[m[32m    dfn.tabIndex = undefined;[m
[32m+[m[32m    dfnPanel.remove()[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction toggleDfnPanel(dfn) {[m
[32m+[m[32m    if(dfn.dfnPanel) {[m
[32m+[m[32m        hideDfnPanel(dfn);[m
[32m+[m[32m    } else {[m
[32m+[m[32m        showDfnPanel(dfn);[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction insertDfnPopupAction(dfn) {[m
[32m+[m[32m    dfn.setAttribute('role', 'button');[m
[32m+[m[32m    dfn.setAttribute('aria-expanded', 'false')[m
[32m+[m[32m    dfn.tabIndex = 0;[m
[32m+[m[32m    dfn.classList.add('has-dfn-panel');[m
[32m+[m[32m    dfn.addEventListener('click', (event) => {[m
[32m+[m[32m        toggleDfnPanel(dfn);[m
[32m+[m[32m        event.stopPropagation();[m
[32m+[m[32m    });[m
[32m+[m[32m    dfn.addEventListener('keypress', (event) => {[m
[32m+[m[32m        const kc = event.keyCode;[m
[32m+[m[32m        // 32->Space, 13->Enter[m
[32m+[m[32m        if(kc == 32 || kc == 13) {[m
[32m+[m[32m            toggleDfnPanel(dfn);[m
[32m+[m[32m            event.stopPropagation();[m
[32m+[m[32m            event.preventDefault();[m
[32m+[m[32m        }[m
[32m+[m[32m    });[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction refocusOnTarget(event) {[m
[32m+[m[32m    const target = event.target;[m
[32m+[m[32m    setTimeout(() => {[m
[32m+[m[32m        // Refocus on the event.target element.[m
[32m+[m[32m        // This is needed after browser scrolls to the destination.[m
[32m+[m[32m        target.focus();[m
[32m+[m[32m    });[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m// TODO: shared util[m
[32m+[m[32m// Returns the root-level absolute position {left and top} of element.[m
[32m+[m[32mfunction getBounds(el, relativeTo=document.body) {[m
[32m+[m[32m    const relativeRect = relativeTo.getBoundingClientRect();[m
[32m+[m[32m    const elRect = el.getBoundingClientRect();[m
[32m+[m[32m    const top = elRect.top - relativeRect.top;[m
[32m+[m[32m    const left = elRect.left - relativeRect.left;[m
[32m+[m[32m    return {[m
[32m+[m[32m        top,[m
[32m+[m[32m        left,[m
[32m+[m[32m        bottom: top + elRect.height,[m
[32m+[m[32m        right: left + elRect.width,[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction scrollToTargetAndHighlight(event) {[m
[32m+[m[32m    let hash = event.target.hash;[m
[32m+[m[32m    if (hash) {[m
[32m+[m[32m        hash = decodeURIComponent(hash.substring(1));[m
[32m+[m[32m        const dest = document.getElementById(hash);[m
[32m+[m[32m        if (dest) {[m
[32m+[m[32m            dest.classList.add('highlighted');[m
[32m+[m[32m            setTimeout(() => dest.classList.remove('highlighted'), 1000);[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m// Functions, divided by link type, that wrap an autolink's[m
[32m+[m[32m// contents with the appropriate outer syntax.[m
[32m+[m[32m// Alternately, a string naming another type they format[m
[32m+[m[32m// the same as.[m
[32m+[m[32mfunction needsFor(type) {[m
[32m+[m[32m    switch(type) {[m
[32m+[m[32m        case "descriptor":[m
[32m+[m[32m        case "value":[m
[32m+[m[32m        case "element-attr":[m
[32m+[m[32m        case "attr-value":[m
[32m+[m[32m        case "element-state":[m
[32m+[m[32m        case "method":[m
[32m+[m[32m        case "constructor":[m
[32m+[m[32m        case "argument":[m
[32m+[m[32m        case "attribute":[m
[32m+[m[32m        case "const":[m
[32m+[m[32m        case "dict-member":[m
[32m+[m[32m        case "event":[m
[32m+[m[32m        case "enum-value":[m
[32m+[m[32m        case "stringifier":[m
[32m+[m[32m        case "serializer":[m
[32m+[m[32m        case "iterator":[m
[32m+[m[32m        case "maplike":[m
[32m+[m[32m        case "setlike":[m
[32m+[m[32m        case "state":[m
[32m+[m[32m        case "mode":[m
[32m+[m[32m        case "context":[m
[32m+[m[32m        case "facet": return true;[m
[32m+[m
[32m+[m[32m        default: return false;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m[32mfunction refusesFor(type) {[m
[32m+[m[32m    switch(type) {[m
[32m+[m[32m        case "property":[m
[32m+[m[32m        case "element":[m
[32m+[m[32m        case "interface":[m
[32m+[m[32m        case "namespace":[m
[32m+[m[32m        case "callback":[m
[32m+[m[32m        case "dictionary":[m
[32m+[m[32m        case "enum":[m
[32m+[m[32m        case "exception":[m
[32m+[m[32m        case "typedef":[m
[32m+[m[32m        case "http-header":[m
[32m+[m[32m        case "permission": return true;[m
[32m+[m
[32m+[m[32m        default: return false;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m[32mfunction linkFormatterFromType(type) {[m
[32m+[m[32m    switch(type) {[m
[32m+[m[32m        case 'scheme':[m
[32m+[m[32m        case 'permission':[m
[32m+[m[32m        case 'dfn': return (text) => `[=${text}=]`;[m
[32m+[m
[32m+[m[32m        case 'abstract-op': return (text) => `[\$${text}\$]`;[m
[32m+[m
[32m+[m[32m        case 'function':[m
[32m+[m[32m        case 'at-rule':[m
[32m+[m[32m        case 'selector':[m
[32m+[m[32m        case 'value': return (text) => `''${text}''`;[m
[32m+[m
[32m+[m[32m        case 'http-header': return (text) => `[:${text}:]`;[m
[32m+[m
[32m+[m[32m        case 'interface':[m
[32m+[m[32m        case 'constructor':[m
[32m+[m[32m        case 'method':[m
[32m+[m[32m        case 'argument':[m
[32m+[m[32m        case 'attribute':[m
[32m+[m[32m        case 'callback':[m
[32m+[m[32m        case 'dictionary':[m
[32m+[m[32m        case 'dict-member':[m
[32m+[m[32m        case 'enum':[m
[32m+[m[32m        case 'enum-value':[m
[32m+[m[32m        case 'exception':[m
[32m+[m[32m        case 'const':[m
[32m+[m[32m        case 'typedef':[m
[32m+[m[32m        case 'stringifier':[m
[32m+[m[32m        case 'serializer':[m
[32m+[m[32m        case 'iterator':[m
[32m+[m[32m        case 'maplike':[m
[32m+[m[32m        case 'setlike':[m
[32m+[m[32m        case 'extended-attribute':[m
[32m+[m[32m        case 'event':[m
[32m+[m[32m        case 'idl': return (text) => `{{${text}}}`;[m
[32m+[m
[32m+[m[32m        case 'element-state':[m
[32m+[m[32m        case 'element-attr':[m
[32m+[m[32m        case 'attr-value':[m
[32m+[m[32m        case 'element': return (element) => `<{${element}}>`;[m
[32m+[m
[32m+[m[32m        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;[m
[32m+[m
[32m+[m[32m        case 'type': return (text)=> `<<${text}>>`;[m
[32m+[m
[32m+[m[32m        case 'descriptor':[m
[32m+[m[32m        case 'property': return (text) => `'${text}'`;[m
[32m+[m
[32m+[m[32m        default: return;[m
[32m+[m[32m    };[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mfunction genLinkingSyntaxes(dfn) {[m
[32m+[m[32m    if(dfn.tagName != "DFN") return;[m
[32m+[m
[32m+[m[32m    const type = dfn.getAttribute('data-dfn-type');[m
[32m+[m[32m    if(!type) {[m
[32m+[m[32m        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);[m
[32m+[m[32m        return [];[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    // Return a function that wraps link text based on the type[m
[32m+[m[32m    const linkFormatter = linkFormatterFromType(type);[m
[32m+[m[32m    if(!linkFormatter) {[m
[32m+[m[32m        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);[m
[32m+[m[32m        return [];[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    let ltAlts;[m
[32m+[m[32m    if(dfn.hasAttribute('data-lt')) {[m
[32m+[m[32m        ltAlts = dfn.getAttribute('data-lt')[m
[32m+[m[32m            .split("|")[m
[32m+[m[32m            .map(x=>x.trim());[m
[32m+[m[32m    } else {[m
[32m+[m[32m        ltAlts = [dfn.textContent.trim()];[m
[32m+[m[32m    }[m
[32m+[m[32m    if(type == "type") {[m
[32m+[m[32m        // lt of "<foo>", but "foo" is the interior;[m
[32m+[m[32m        // <<foo/bar>> is how you write it with a for,[m
[32m+[m[32m        // not <foo/<bar>> or whatever.[m
[32m+[m[32m        for(var i = 0; i < ltAlts.length; i++) {[m
[32m+[m[32m            const lt = ltAlts[i];[m
[32m+[m[32m            const match = /<(.*)>/.exec(lt);[m
[32m+[m[32m            if(match) { ltAlts[i] = match[1]; }[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    let forAlts;[m
[32m+[m[32m    if(dfn.hasAttribute('data-dfn-for')) {[m
[32m+[m[32m        forAlts = dfn.getAttribute('data-dfn-for')[m
[32m+[m[32m            .split(",")[m
[32m+[m[32m            .map(x=>x.trim());[m
[32m+[m[32m    } else {[m
[32m+[m[32m        forAlts = [''];[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    let linkingSyntaxes = [];[m
[32m+[m[32m    if(!needsFor(type)) {[m
[32m+[m[32m        for(const lt of ltAlts) {[m
[32m+[m[32m            linkingSyntaxes.push(linkFormatter(lt));[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m    if(!refusesFor(type)) {[m
[32m+[m[32m        for(const f of forAlts) {[m
[32m+[m[32m            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m    return [[m
[32m+[m[32m        mk.b({}, 'Possible linking syntaxes:'),[m
[32m+[m[32m        mk.ul({},[m
[32m+[m[32m            ...linkingSyntaxes.map(link => {[m
[32m+[m[32m                const copyLink = async () =>[m
[32m+[m[32m                    await navigator.clipboard.writeText(link);[m
[32m+[m[32m                return mk.li({},[m
[32m+[m[32m                    mk.div({ class: 'link-item' },[m
[32m+[m[32m                        mk.button({[m
[32m+[m[32m                            class: 'copy-icon', title: 'Copy',[m
[32m+[m[32m                            type: 'button',[m
[32m+[m[32m                            _onclick: copyLink,[m
[32m+[m[32m                            tabindex: 0,[m
[32m+[m[32m                        }, mk.span({ class: 'icon' }) ),[m
[32m+[m[32m                        mk.span({}, link)[m
[32m+[m[32m                    )[m
[32m+[m[32m                );[m
[32m+[m[32m            })[m
[32m+[m[32m        )[m
[32m+[m[32m    ];[m
[32m+[m[32m}[m
[32m+[m[32m}[m
[32m+[m[32m</script>[m
[32m+[m[32m<script>/* Boilerplate: script-ref-hints */[m
[32m+[m[32m"use strict";[m
[32m+[m[32m{[m
[32m+[m[32mlet refsData = {[m
[32m+[m[32m"#accessibility-requirement": {"displayText":"accessibility requirement","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"accessibility requirement","type":"dfn","url":"#accessibility-requirement"},[m
[32m+[m[32m"#accessibility-requirements-document": {"displayText":"accessibility requirements document","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"accessibility requirements document","type":"dfn","url":"#accessibility-requirements-document"},[m
[32m+[m[32m"#atomic-rules": {"displayText":"atomic rules","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"atomic rules","type":"dfn","url":"#atomic-rules"},[m
[32m+[m[32m"#check": {"displayText":"check","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"check","type":"dfn","url":"#check"},[m
[32m+[m[32m"#composite-rules": {"displayText":"composite rules","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"composite rules","type":"dfn","url":"#composite-rules"},[m
[32m+[m[32m"#conformance-requirementsâ‘ ": {"displayText":"conformance requirements","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"conformance requirements","type":"dfn","url":"#conformance-requirements\u2460"},[m
[32m+[m[32m"#consistent": {"displayText":"consistent","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"consistent","type":"dfn","url":"#consistent"},[m
[32m+[m[32m"#descriptive-title": {"displayText":"descriptive title","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"descriptive title","type":"dfn","url":"#descriptive-title"},[m
[32m+[m[32m"#implementation": {"displayText":"implementation","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"implementation","type":"dfn","url":"#implementation"},[m
[32m+[m[32m"#not-satisfied": {"displayText":"not satisfied","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"not satisfied","type":"dfn","url":"#not-satisfied"},[m
[32m+[m[32m"#outcome": {"displayText":"outcome","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"outcome","type":"dfn","url":"#outcome"},[m
[32m+[m[32m"#partially-consistent": {"displayText":"partially consistent","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"partially consistent","type":"dfn","url":"#partially-consistent"},[m
[32m+[m[32m"#satisfied": {"displayText":"satisfied","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"satisfied","type":"dfn","url":"#satisfied"},[m
[32m+[m[32m"#secondary-requirementsâ‘ ": {"displayText":"secondary requirements","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"secondary requirements","type":"dfn","url":"#secondary-requirements\u2460"},[m
[32m+[m[32m"#set-of-checks": {"displayText":"set of checks","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"set of checks","type":"dfn","url":"#set-of-checks"},[m
[32m+[m[32m"#test-subject": {"displayText":"test subject","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"test subject","type":"dfn","url":"#test-subject"},[m
[32m+[m[32m"#test-target": {"displayText":"test target","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"test target","type":"dfn","url":"#test-target"},[m
[32m+[m[32m"#true-positives": {"displayText":"true positives","export":true,"for_":[],"level":"1.1","normative":true,"shortname":"act-rules-format-1.1","spec":"act-rules-format-1.1-1.1","status":"local","text":"true positives","type":"dfn","url":"#true-positives"},[m
[32m+[m[32m"https://w3c.github.io/i18n-glossary/#dfn-localisation": {"displayText":"localisation","export":true,"for_":[],"level":"1","normative":false,"shortname":"i18n-glossary","spec":"i18n-glossary","status":"current","text":"localisation","type":"dfn","url":"https://w3c.github.io/i18n-glossary/#dfn-localisation"},[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32mfunction mkRefHint(link, ref) {[m
[32m+[m[32m    const linkText = link.textContent;[m
[32m+[m[32m    let dfnTextElements = '';[m
[32m+[m[32m    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {[m
[32m+[m[32m        // Give the original term if it's being displayed in a different way.[m
[32m+[m[32m        // But allow casing differences, they're insignificant.[m
[32m+[m[32m        dfnTextElements =[m
[32m+[m[32m            mk.li({},[m
[32m+[m[32m                mk.b({}, "Term: "),[m
[32m+[m[32m                mk.span({}, ref.displayText)[m
[32m+[m[32m            );[m
[32m+[m[32m    }[m
[32m+[m[32m    const forList = ref.for_;[m
[32m+[m[32m    let forListElements;[m
[32m+[m[32m    if(forList.length == 0) {[m
[32m+[m[32m        forListElements = [];[m
[32m+[m[32m    } else if(forList.length == 1) {[m
[32m+[m[32m        forListElements = mk.li({},[m
[32m+[m[32m            mk.b({}, "For: "),[m
[32m+[m[32m            mk.span({}, forList[0]),[m
[32m+[m[32m        );[m
[32m+[m[32m    } else {[m
[32m+[m[32m        forListElements = mk.li({},[m
[32m+[m[32m            mk.b({}, "For: "),[m
[32m+[m[32m            mk.ul({},[m
[32m+[m[32m                ...forList.map(forItem =>[m
[32m+[m[32m                    mk.li({},[m
[32m+[m[32m                        mk.span({}, forItem)[m
[32m+[m[32m                    ),[m
[32m+[m[32m                ),[m
[32m+[m[32m            ),[m
[32m+[m[32m        );[m
[32m+[m[32m    }[m
[32m+[m[32m    const url = ref.url;[m
[32m+[m[32m    const safeUrl = encodeURIComponent(url);[m
[32m+[m[32m    const hintPanel = mk.aside({[m
[32m+[m[32m        class: "ref-hint",[m
[32m+[m[32m        id: `ref-hint-for-${safeUrl}`,[m
[32m+[m[32m        "data-for": url,[m
[32m+[m[32m        "aria-labelled-by": `ref-hint-for-${safeUrl}`,[m
[32m+[m[32m    },[m
[32m+[m[32m        mk.ul({},[m
[32m+[m[32m            dfnTextElements,[m
[32m+[m[32m            mk.li({},[m
[32m+[m[32m                mk.b({}, "URL: "),[m
[32m+[m[32m                mk.a({ href: url, class: "ref" }, url),[m
[32m+[m[32m            ),[m
[32m+[m[32m            mk.li({},[m
[32m+[m[32m                mk.b({}, "Type: "),[m
[32m+[m[32m                mk.span({}, `${ref.type}`),[m
[32m+[m[32m            ),[m
[32m+[m[32m            mk.li({},[m
[32m+[m[32m                mk.b({}, "Spec: "),[m
[32m+[m[32m                mk.span({}, `${ref.spec ? ref.spec : ''}`),[m
[32m+[m[32m            ),[m
[32m+[m[32m            forListElements[m
[32m+[m[32m        ),[m
[32m+[m[32m    );[m
[32m+[m[32m    hintPanel.forLink = link;[m
[32m+[m[32m    setupRefHintEventListeners(link, hintPanel);[m
[32m+[m[32m    return hintPanel;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction hideAllRefHints() {[m
[32m+[m[32m    queryAll(".ref-hint").forEach(el=>hideRefHint(el));[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction hideRefHint(refHint) {[m
[32m+[m[32m    const link = refHint.forLink;[m
[32m+[m[32m    link.setAttribute("aria-expanded", "false");[m
[32m+[m[32m    if(refHint.teardownEventListeners) {[m
[32m+[m[32m        refHint.teardownEventListeners();[m
[32m+[m[32m    }[m
[32m+[m[32m    refHint.remove();[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction showRefHint(link) {[m
[32m+[m[32m    if(link.classList.contains("dfn-link")) return;[m
[32m+[m[32m    const url = link.getAttribute("href");[m
[32m+[m[32m    const refHintKey = link.getAttribute("data-refhint-key");[m
[32m+[m[32m    let key = url;[m
[32m+[m[32m    if(refHintKey) {[m
[32m+[m[32m        key = refHintKey + "_" + url;[m
[32m+[m[32m    }[m
[32m+[m[32m    const ref = refsData[key];[m
[32m+[m[32m    if(!ref) return;[m
[32m+[m
[32m+[m[32m    hideAllRefHints(); // Only display one at this time.[m
[32m+[m
[32m+[m[32m    const refHint = mkRefHint(link, ref);[m
[32m+[m[32m    append(document.body, refHint);[m
[32m+[m[32m    link.setAttribute("aria-expanded", "true");[m
[32m+[m[32m    positionRefHint(refHint);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction setupRefHintEventListeners(link, refHint) {[m
[32m+[m[32m    if (refHint.teardownEventListeners) return;[m
[32m+[m[32m    // Add event handlers to hide the refHint after the user moves away[m
[32m+[m[32m    // from both the link and refHint, if not hovering either within one second.[m
[32m+[m[32m    let timeout = null;[m
[32m+[m[32m    const startHidingRefHint = (event) => {[m
[32m+[m[32m        if (timeout) {[m
[32m+[m[32m            clearTimeout(timeout);[m
[32m+[m[32m        }[m
[32m+[m[32m        timeout = setTimeout(() => {[m
[32m+[m[32m            hideRefHint(refHint);[m
[32m+[m[32m        }, 1000);[m
[32m+[m[32m    }[m
[32m+[m[32m    const resetHidingRefHint = (event) => {[m
[32m+[m[32m        if (timeout) clearTimeout(timeout);[m
[32m+[m[32m        timeout = null;[m
[32m+[m[32m    };[m
[32m+[m[32m    link.addEventListener("mouseleave", startHidingRefHint);[m
[32m+[m[32m    link.addEventListener("mouseenter", resetHidingRefHint);[m
[32m+[m[32m    link.addEventListener("blur", startHidingRefHint);[m
[32m+[m[32m    link.addEventListener("focus", resetHidingRefHint);[m
[32m+[m[32m    refHint.addEventListener("mouseleave", startHidingRefHint);[m
[32m+[m[32m    refHint.addEventListener("mouseenter", resetHidingRefHint);[m
[32m+[m[32m    refHint.addEventListener("blur", startHidingRefHint);[m
[32m+[m[32m    refHint.addEventListener("focus", resetHidingRefHint);[m
[32m+[m
[32m+[m[32m    refHint.teardownEventListeners = () => {[m
[32m+[m[32m        // remove event listeners[m
[32m+[m[32m        resetHidingRefHint();[m
[32m+[m[32m        link.removeEventListener("mouseleave", startHidingRefHint);[m
[32m+[m[32m        link.removeEventListener("mouseenter", resetHidingRefHint);[m
[32m+[m[32m        link.removeEventListener("blur", startHidingRefHint);[m
[32m+[m[32m        link.removeEventListener("focus", resetHidingRefHint);[m
[32m+[m[32m        refHint.removeEventListener("mouseleave", startHidingRefHint);[m
[32m+[m[32m        refHint.removeEventListener("mouseenter", resetHidingRefHint);[m
[32m+[m[32m        refHint.removeEventListener("blur", startHidingRefHint);[m
[32m+[m[32m        refHint.removeEventListener("focus", resetHidingRefHint);[m
[32m+[m[32m    };[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction positionRefHint(refHint) {[m
[32m+[m[32m    const link = refHint.forLink;[m
[32m+[m[32m    const linkPos = getBounds(link);[m
[32m+[m[32m    refHint.style.top = linkPos.bottom + "px";[m
[32m+[m[32m    refHint.style.left = linkPos.left + "px";[m
[32m+[m
[32m+[m[32m    const panelPos = refHint.getBoundingClientRect();[m
[32m+[m[32m    const panelMargin = 8;[m
[32m+[m[32m    const maxRight = document.body.parentNode.clientWidth - panelMargin;[m
[32m+[m[32m    if (panelPos.right > maxRight) {[m
[32m+[m[32m        const overflowAmount = panelPos.right - maxRight;[m
[32m+[m[32m        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);[m
[32m+[m[32m        refHint.style.left = newLeft + "px";[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m// TODO: shared util[m
[32m+[m[32m// Returns the root-level absolute position {left and top} of element.[m
[32m+[m[32mfunction getBounds(el, relativeTo=document.body) {[m
[32m+[m[32m    const relativeRect = relativeTo.getBoundingClientRect();[m
[32m+[m[32m    const elRect = el.getBoundingClientRect();[m
[32m+[m[32m    const top = elRect.top - relativeRect.top;[m
[32m+[m[32m    const left = elRect.left - relativeRect.left;[m
[32m+[m[32m    return {[m
[32m+[m[32m        top,[m
[32m+[m[32m        left,[m
[32m+[m[32m        bottom: top + elRect.height,[m
[32m+[m[32m        right: left + elRect.width,[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction showRefHintListener(e) {[m
[32m+[m[32m    // If the target isn't in a link (or is a link),[m
[32m+[m[32m    // just ignore it.[m
[32m+[m[32m    let link = e.target.closest("a");[m
[32m+[m[32m    if(!link) return;[m
[32m+[m
[32m+[m[32m    // If the target is in a ref-hint panel[m
[32m+[m[32m    // (aka a link in the already-open one),[m
[32m+[m[32m    // also just ignore it.[m
[32m+[m[32m    if(link.closest(".ref-hint")) return;[m
[32m+[m
[32m+[m[32m    // Otherwise, show the panel for the link.[m
[32m+[m[32m    showRefHint(link);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction hideAllHintsListener(e) {[m
[32m+[m[32m    // If the click is inside a ref-hint panel, ignore it.[m
[32m+[m[32m    if(e.target.closest(".ref-hint")) return;[m
[32m+[m[32m    // Otherwise, close all the current panels.[m
[32m+[m[32m    hideAllRefHints();[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mdocument.addEventListener("DOMContentLoaded", () => {[m
[32m+[m[32m    document.body.addEventListener("mousedown", showRefHintListener);[m
[32m+[m[32m    document.body.addEventListener("focus", showRefHintListener);[m
[32m+[m
[32m+[m[32m    document.body.addEventListener("click", hideAllHintsListener);[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mwindow.addEventListener("resize", () => {[m
[32m+[m[32m    // Hide any open ref hint.[m
[32m+[m[32m    hideAllRefHints();[m
[32m+[m[32m});[m
[32m+[m[32m}[m
[32m+[m[32m</script>[m
\ No newline at end of file[m
